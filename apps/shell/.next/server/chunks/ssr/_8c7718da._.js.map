{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/packages/types/index.ts"],"sourcesContent":["/**\n * Project Model - Source of Truth\n * Centralized type definitions for projects across all microfrontends\n */\n\n/**\n * Project ID (slug) - lowercase version of project name\n */\nexport type ProjectId = 'climate' | 'food' | 'social';\n\n/**\n * Project sequence configuration for canvas animations\n */\nexport interface ProjectSequence {\n  baseUrl: string;\n  frameCount: number;\n  padLength: number;\n  fileExtension: string;\n}\n\n/**\n * Project details content (for /projects/[slug])\n */\nexport interface ProjectDetails {\n  heroImage?: string;\n  heroVideo?: string;\n  sections: Array<{\n    title: string;\n    content: string;\n    image?: string;\n    video?: string;\n  }>;\n  impact: {\n    title: string;\n    metrics: Array<{\n      label: string;\n      value: string;\n    }>;\n  };\n}\n\n/**\n * Support page content (for /support/[slug])\n */\nexport interface SupportContent {\n  heroImage?: string;\n  heroVideo?: string;\n  description: string;\n  suggestedAmounts: number[];\n  defaultAmount?: number;\n}\n\n/**\n * Project data structure\n */\nexport interface Project {\n  id: ProjectId;\n  name: string;\n  subtitle: string;\n  description: string;\n  ctas: {\n    primary: string;\n    secondary: string;\n  };\n  sequence: ProjectSequence;\n  details?: ProjectDetails;\n  support?: SupportContent;\n}\n\n/**\n * All available projects - Source of Truth\n */\nexport const PROJECTS: Project[] = [\n  {\n    id: 'climate',\n    name: 'CLIMATE',\n    subtitle: 'CHANGE MITIGATION',\n    description: 'We collaborate and partner with corporations, institutions and individuals to repair, reclaim, and revive damaged lands, forests, and water bodies.',\n    ctas: { primary: 'BECOME A PARTNER', secondary: 'LEARN ABOUT US' },\n    sequence: {\n      baseUrl: 'https://xnuhligbmtlwrzemwgmv.supabase.co/storage/v1/object/public/climateChange/frame_',\n      frameCount: 80,\n      padLength: 6,\n      fileExtension: '.webp',\n    },\n    details: {\n      heroImage: 'https://xnuhligbmtlwrzemwgmv.supabase.co/storage/v1/object/public/climateChange/frame_000001.webp',\n      sections: [\n        {\n          title: 'Where?',\n          content: 'Humjibre, Ghana. A hotspot for illegal gold mining and environmental degradation.',\n          image: 'https://xnuhligbmtlwrzemwgmv.supabase.co/storage/v1/object/public/climateChange/frame_000001.webp',\n        },\n        {\n          title: 'Why?',\n          content: 'Hotspot for illegal gold mining and environmental degradation. The land has been severely damaged, requiring urgent restoration efforts.',\n        },\n        {\n          title: 'How?',\n          content: 'Local landowners partner with QIA and grant exclusive rights to restore their land and revive the ecosystem. Focus on soil health, biodiversity conservation and local integration. We create real economic opportunities through carbon offset and healthy ecosystems.',\n        },\n      ],\n      impact: {\n        title: 'Impact',\n        metrics: [\n          { label: 'Land Restored', value: '500+ hectares' },\n          { label: 'Trees Planted', value: '50,000+' },\n          { label: 'Communities Impacted', value: '10+' },\n        ],\n      },\n    },\n    support: {\n      heroImage: 'https://xnuhligbmtlwrzemwgmv.supabase.co/storage/v1/object/public/climateChange/frame_000001.webp',\n      description: 'Support our climate change mitigation efforts. Your contribution helps restore damaged lands, forests, and water bodies, creating a sustainable future for generations to come.',\n      suggestedAmounts: [25, 50, 100, 250, 500],\n      defaultAmount: 50,\n    },\n  },\n  {\n    id: 'food',\n    name: 'FOOD',\n    subtitle: 'SECURITY',\n    description: 'We provide assistance and support to local farmers to increase food production in a more sustainable and organic way.',\n    ctas: { primary: 'JOIN THE MOVEMENT', secondary: 'OUR PROJECTS' },\n    sequence: {\n      baseUrl: 'https://xnuhligbmtlwrzemwgmv.supabase.co/storage/v1/object/public/globe-animation/frame_',\n      frameCount: 120,\n      padLength: 6,\n      fileExtension: '.webp',\n    },\n    details: {\n      heroImage: 'https://xnuhligbmtlwrzemwgmv.supabase.co/storage/v1/object/public/globe-animation/frame_000001.webp',\n      sections: [\n        {\n          title: 'Where?',\n          content: 'Starting in Ghana and expanding across Africa.',\n          image: 'https://xnuhligbmtlwrzemwgmv.supabase.co/storage/v1/object/public/globe-animation/frame_000001.webp',\n        },\n        {\n          title: 'Why?',\n          content: 'Agricultural economies with high dependence on commercial inputs and limited resources. Farmers need sustainable solutions to increase production.',\n        },\n        {\n          title: 'How?',\n          content: 'Training workshops, sustainable solutions, financing, and distribution networks. We support farmers with organic and nano-technological farm solutions, micro-financing loans and sustainable techniques, and organize logistics to move produce to consumers.',\n        },\n      ],\n      impact: {\n        title: 'Impact',\n        metrics: [\n          { label: 'Farmers Supported', value: '500+' },\n          { label: 'Food Production Increase', value: '40%' },\n          { label: 'Communities Reached', value: '25+' },\n        ],\n      },\n    },\n    support: {\n      heroImage: 'https://xnuhligbmtlwrzemwgmv.supabase.co/storage/v1/object/public/globe-animation/frame_000001.webp',\n      description: 'Support food security initiatives. Your donation helps local farmers increase food production sustainably, ensuring communities have access to nutritious food.',\n      suggestedAmounts: [20, 50, 100, 200, 500],\n      defaultAmount: 50,\n    },\n  },\n  {\n    id: 'social',\n    name: 'SOCIAL',\n    subtitle: 'IMBALANCE',\n    description: 'We customized and execute programmes and projects to mitigate imbalance in our society.',\n    ctas: { primary: 'GET INVOLVED', secondary: 'READ MORE' },\n    sequence: {\n      baseUrl: 'https://xnuhligbmtlwrzemwgmv.supabase.co/storage/v1/object/public/socialAnimation/frame_',\n      frameCount: 112,\n      padLength: 6,\n      fileExtension: '.webp',\n    },\n    details: {\n      heroImage: 'https://xnuhligbmtlwrzemwgmv.supabase.co/storage/v1/object/public/socialAnimation/frame_000001.webp',\n      sections: [\n        {\n          title: 'Our Mission',\n          content: 'QIA assists minorities to overcome challenges of isolation, migration and economic inequality. We customize practical social programs in affected areas.',\n        },\n        {\n          title: 'Programs',\n          content: 'First projects will be initiated and published soon. We focus on creating opportunities for marginalized communities and promoting social balance.',\n        },\n      ],\n      impact: {\n        title: 'Impact',\n        metrics: [\n          { label: 'Programs Launched', value: '5+' },\n          { label: 'People Helped', value: '1,000+' },\n          { label: 'Communities Served', value: '15+' },\n        ],\n      },\n    },\n    support: {\n      heroImage: 'https://xnuhligbmtlwrzemwgmv.supabase.co/storage/v1/object/public/socialAnimation/frame_000001.webp',\n      description: 'Support social balance initiatives. Your contribution helps us create programs that assist minorities and promote equality in our communities.',\n      suggestedAmounts: [30, 75, 150, 300, 750],\n      defaultAmount: 75,\n    },\n  },\n];\n\n/**\n * Get project by ID\n */\nexport function getProjectById(id: ProjectId): Project | undefined {\n  return PROJECTS.find((p) => p.id === id);\n}\n\n/**\n * Get project by name (uppercase)\n */\nexport function getProjectByName(name: string): Project | undefined {\n  return PROJECTS.find((p) => p.name === name);\n}\n\n/**\n * Check if a string is a valid project ID\n */\nexport function isValidProjectId(id: string): id is ProjectId {\n  return PROJECTS.some((p) => p.id === id);\n}\n\n"],"names":[],"mappings":"AAAA;;;CAGC,GAED;;CAEC;;;;;;;;;;AAiEM,MAAM,WAAsB;IACjC;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,aAAa;QACb,MAAM;YAAE,SAAS;YAAoB,WAAW;QAAiB;QACjE,UAAU;YACR,SAAS;YACT,YAAY;YACZ,WAAW;YACX,eAAe;QACjB;QACA,SAAS;YACP,WAAW;YACX,UAAU;gBACR;oBACE,OAAO;oBACP,SAAS;oBACT,OAAO;gBACT;gBACA;oBACE,OAAO;oBACP,SAAS;gBACX;gBACA;oBACE,OAAO;oBACP,SAAS;gBACX;aACD;YACD,QAAQ;gBACN,OAAO;gBACP,SAAS;oBACP;wBAAE,OAAO;wBAAiB,OAAO;oBAAgB;oBACjD;wBAAE,OAAO;wBAAiB,OAAO;oBAAU;oBAC3C;wBAAE,OAAO;wBAAwB,OAAO;oBAAM;iBAC/C;YACH;QACF;QACA,SAAS;YACP,WAAW;YACX,aAAa;YACb,kBAAkB;gBAAC;gBAAI;gBAAI;gBAAK;gBAAK;aAAI;YACzC,eAAe;QACjB;IACF;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,aAAa;QACb,MAAM;YAAE,SAAS;YAAqB,WAAW;QAAe;QAChE,UAAU;YACR,SAAS;YACT,YAAY;YACZ,WAAW;YACX,eAAe;QACjB;QACA,SAAS;YACP,WAAW;YACX,UAAU;gBACR;oBACE,OAAO;oBACP,SAAS;oBACT,OAAO;gBACT;gBACA;oBACE,OAAO;oBACP,SAAS;gBACX;gBACA;oBACE,OAAO;oBACP,SAAS;gBACX;aACD;YACD,QAAQ;gBACN,OAAO;gBACP,SAAS;oBACP;wBAAE,OAAO;wBAAqB,OAAO;oBAAO;oBAC5C;wBAAE,OAAO;wBAA4B,OAAO;oBAAM;oBAClD;wBAAE,OAAO;wBAAuB,OAAO;oBAAM;iBAC9C;YACH;QACF;QACA,SAAS;YACP,WAAW;YACX,aAAa;YACb,kBAAkB;gBAAC;gBAAI;gBAAI;gBAAK;gBAAK;aAAI;YACzC,eAAe;QACjB;IACF;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,aAAa;QACb,MAAM;YAAE,SAAS;YAAgB,WAAW;QAAY;QACxD,UAAU;YACR,SAAS;YACT,YAAY;YACZ,WAAW;YACX,eAAe;QACjB;QACA,SAAS;YACP,WAAW;YACX,UAAU;gBACR;oBACE,OAAO;oBACP,SAAS;gBACX;gBACA;oBACE,OAAO;oBACP,SAAS;gBACX;aACD;YACD,QAAQ;gBACN,OAAO;gBACP,SAAS;oBACP;wBAAE,OAAO;wBAAqB,OAAO;oBAAK;oBAC1C;wBAAE,OAAO;wBAAiB,OAAO;oBAAS;oBAC1C;wBAAE,OAAO;wBAAsB,OAAO;oBAAM;iBAC7C;YACH;QACF;QACA,SAAS;YACP,WAAW;YACX,aAAa;YACb,kBAAkB;gBAAC;gBAAI;gBAAI;gBAAK;gBAAK;aAAI;YACzC,eAAe;QACjB;IACF;CACD;AAKM,SAAS,eAAe,EAAa;IAC1C,OAAO,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;AACvC;AAKO,SAAS,iBAAiB,IAAY;IAC3C,OAAO,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK;AACzC;AAKO,SAAS,iBAAiB,EAAU;IACzC,OAAO,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;AACvC","debugId":null}},
    {"offset": {"line": 218, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/lib/data.ts"],"sourcesContent":["import { Facebook, Instagram, Twitter } from 'lucide-react';\n\nexport const agencyConfig = {\n  name: \"QIA\",\n  fullName: \"Quick Impact Agency\",\n  description: \"We restore damaged ecosystems and empower humanity. We assist Corporations, Institutions and Individuals to solve social and ecological problems.\",\n  footerCopyright: `© ${new Date().getFullYear()} QIA. All rights reserved.`,\n  trustNote: \"QIA is not affiliated to any Cult, Religious groups, Governmental or Non-Governmental Organization whatsoever.\"\n};\n\nexport const navLinks = [\n  { name: 'Our Agency', href: '#our-agency' },\n  { name: 'Together', href: '#together' },\n  { name: 'Programs', href: '#programs' },\n  { name: 'Project Land', href: '#project-land' },\n  { name: 'Mission & Vision', href: '#mission-vision' },\n  { name: 'Gallery', href: '#gallery' },\n  { name: 'Partner', href: '#partner' },\n];\n\nexport const socialLinks = [\n  { name: 'Twitter', href: '#', Icon: Twitter },\n  { name: 'Instagram', href: '#', Icon: Instagram },\n  { name: 'Facebook', href: '#', Icon: Facebook },\n];\n\n// Import first, then re-export\nimport { PROJECTS, getProjectById, getProjectByName, isValidProjectId } from '@qia/types';\nimport type { Project, ProjectId, ProjectSequence } from '@qia/types';\n\n// Re-export types and projects from shared package\nexport type { Project, ProjectId, ProjectSequence };\nexport { PROJECTS, getProjectById, getProjectByName, isValidProjectId };\n\n// Legacy type alias for backward compatibility during migration\nexport type Program = Project;\n\n// Legacy export for backward compatibility - maps PROJECTS to old format\nexport const programs = PROJECTS.map((project) => ({\n  name: project.name,\n  subtitle: project.subtitle,\n  description: project.description,\n  ctas: project.ctas,\n  sequence: project.sequence,\n}));\n\nexport const content = {\n  ourAgency: {\n    id: \"our-agency\",\n    headline: \"We provide customized solutions for devastating situations in our environment and society.\",\n    body: \"As an emerging global catalyst for social and ecological solutions, the work we do at QIA is vital for the protection and preservation of our ecosystem as well as installing balance and harmony in our society. We design and develop Quick Impact Projects to mitigate devastating situations in our global village.\",\n    cta: \"Learn About Us\"\n  },\n  together: {\n    id: \"together\",\n    headline: \"Together, empowering communities for sustainable development.\",\n    body: \"We are honored to embark on a mission to make our world a better place with those who believe we can.\",\n    cta: \"Become a Partner Now\",\n    cards: [\n      { title: \"Local Engagement\", description: \"We work hand in hand with locals to give them ownership, responsibility, and accountability for long-term sustainable impact.\" },\n      { title: \"Collective Action\", description: \"We work with the general public, institutions, and corporations to amplify efforts and drive meaningful change.\" },\n    ]\n  },\n  programs: {\n    id: \"programs\",\n    intro: \"Positively impacting communities through strategically customized and sustainable programs.\",\n    cards: [\n      { title: \"Climate Change Mitigation\", description: \"We collaborate to repair, reclaim, and revive damaged lands, forests, and water bodies.\" },\n      { title: \"Food Security\", description: \"We support local farmers to increase food production in a sustainable and organic way.\" },\n      { title: \"Social Imbalance\", description: \"We customize and execute programmes and projects to mitigate imbalance in our society.\" },\n    ]\n  },\n  partnerFeature: {\n    id: \"partner-feature\",\n    headline: \"Revitalize Our Planet: The Power of Ecosystem Restoration for a Greener Future\",\n    body: \"Ecosystem restoration enhances biodiversity and combats climate change, protecting wildlife while creating healthier communities and sustainable livelihoods.\"\n  },\n  becomePartner: {\n    id: \"become-partner\",\n    headline: \"Become an Agent of Positive Impact\",\n    body: \"We are the Earth’s new hope for restoration. We bring balance into our society and the environment.\",\n    logoMeaning: [\n      { id: \"partner-logo-1\", text: \"Two leaves representing vegetation\" },\n      { id: \"partner-logo-2\", text: \"A circle representing the globe\" },\n      { id: \"partner-logo-3\", text: \"Together they represent humanity and its environment\" }\n    ]\n  },\n  missionVision: {\n    id: \"mission-vision\",\n    vision: {\n      title: \"Vision\",\n      text: \"To co-create a connected, sustainable, and prosperous future for the earth and its inhabitants.\"\n    },\n    mission: {\n      title: \"Mission\",\n      text: \"To restore and revive damaged ecosystems and build thriving communities.\"\n    },\n    whatWeDo: {\n      title: \"What We Do\",\n      items: [\n        \"Reclaim and repair degraded lands and water bodies.\",\n        \"Assist local farmers with sustainable farm solutions.\",\n        \"Develop and implement customized social improvement programs.\",\n      ]\n    }\n  },\n  projectLand: {\n    id: \"project-land\",\n    headline: \"Project Land — Revive and Thrive\",\n    closingLine: \"Let’s turn devastation into creation.\",\n    cta: \"Become a Partner Now\",\n    details: [\n      { title: \"Where?\", text: \"Humjibre, Ghana.\" },\n      { title: \"Why?\", text: \"Hotspot for illegal gold mining and environmental degradation.\" },\n      { title: \"How?\", text: \"Local landowners partner with QIA and grant exclusive rights to restore their land and revive the ecosystem. Focus on soil health, biodiversity conservation and local integration. We create real economic opportunities through carbon offset and healthy ecosystems.\" },\n    ]\n  },\n  foodSecurity: {\n    id: \"food-security\",\n    headline: \"Secure production instead of disruption.\",\n    body: \"QIA helps transform food systems to be climate resilient, nutrition-sensitive and sustainable. We support farmers with organic and nano-technological farm solutions, micro-financing loans and sustainable techniques, and organize logistics to move produce to consumers.\",\n    cta: \"Join the Movement\",\n    details: [\n      { title: \"Where?\", text: \"Starting in Ghana and expanding across Africa.\" },\n      { title: \"Why?\", text: \"Agricultural economies with high dependence on commercial inputs and limited resources.\" },\n      { title: \"How?\", text: \"Training workshops, sustainable solutions, financing, and distribution networks.\" },\n    ]\n  },\n  socialImbalance: {\n    id: \"social-imbalance\",\n    headline: \"Practical programs for social balance.\",\n    body: \"QIA assists minorities to overcome challenges of isolation, migration and economic inequality. We customize practical social programs in affected areas; first projects will be initiated and published soon.\"\n  },\n  gallery: {\n    id: \"gallery\",\n    title: \"Gallery\",\n    imageIds: [\"gallery-1\", \"gallery-2\", \"gallery-3\", \"gallery-4\", \"gallery-5\", \"gallery-6\"]\n  },\n\n  partnerForm: {\n    id: \"partner\",\n    headline: \"Join Us in Making a Difference\",\n    subtext: \"Your support can help restore ecosystems and empower communities. Partner with us or donate today.\",\n    ctas: {\n      primary: \"Become a Partner\",\n      secondary: \"Donate Now\"\n    }\n  }\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 454, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/components/logo.tsx"],"sourcesContent":["\"use client\";\n\nimport { memo, useMemo } from 'react';\nimport Image from 'next/image';\nimport { useHero } from '@/contexts/hero-context';\n\n/**\n * Logo mapping for each hero section\n * Each hero has a different colored logo\n */\nconst LOGO_MAP = {\n  CLIMATE: '/Whisk_f3725ea2aa626e8a15545e2000cf3014dr_preview_rev_1.svg',\n  FOOD: '/Whisk_cb0dfa88022716bbd5641ed762889bd0dr_preview_rev_1.svg',\n  SOCIAL: '/Whisk_796ac715016ef35a10040fe533c014b2dr_preview_rev_1.svg',\n} as const;\n\n/**\n * Quick Impact Agency Logo Component\n * Logo changes color based on active hero section\n * Memoized for performance - only re-renders when activeHero changes\n */\nexport const Logo = memo(function Logo({ className }: { className?: string }) {\n  const { activeHero } = useHero();\n  \n  // Memoize logo path to prevent recalculation\n  const logoPath = useMemo(\n    () => LOGO_MAP[activeHero] || LOGO_MAP.CLIMATE,\n    [activeHero]\n  );\n\n  return (\n    <div \n      className={`relative h-24 w-24 flex-shrink-0 overflow-hidden flex items-center justify-center ${className || ''}`}\n    >\n      <div\n        className=\"relative w-full h-full\"\n        style={{\n          // Zoom to crop borders (bottom and right) - scale up to hide edges\n          transform: 'scale(1.2)',\n          transformOrigin: 'center center',\n        }}\n      >\n        <Image\n          src={logoPath}\n          alt=\"Quick Impact Agency Logo\"\n          fill\n          className=\"object-contain transition-opacity duration-500\"\n          priority\n          unoptimized\n        />\n      </div>\n    </div>\n  );\n});\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA;;;CAGC,GACD,MAAM,WAAW;IACf,SAAS;IACT,MAAM;IACN,QAAQ;AACV;AAOO,MAAM,qBAAO,IAAA,4UAAI,EAAC,SAAS,KAAK,EAAE,SAAS,EAA0B;IAC1E,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,+JAAO;IAE9B,6CAA6C;IAC7C,MAAM,WAAW,IAAA,+UAAO,EACtB,IAAM,QAAQ,CAAC,WAAW,IAAI,SAAS,OAAO,EAC9C;QAAC;KAAW;IAGd,qBACE,6WAAC;QACC,WAAW,CAAC,kFAAkF,EAAE,aAAa,IAAI;kBAEjH,cAAA,6WAAC;YACC,WAAU;YACV,OAAO;gBACL,mEAAmE;gBACnE,WAAW;gBACX,iBAAiB;YACnB;sBAEA,cAAA,6WAAC,uQAAK;gBACJ,KAAK;gBACL,KAAI;gBACJ,IAAI;gBACJ,WAAU;gBACV,QAAQ;gBACR,WAAW;;;;;;;;;;;;;;;;AAKrB","debugId":null}},
    {"offset": {"line": 517, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/components/header.tsx"],"sourcesContent":["\"use client\";\n\nimport { memo, useMemo } from 'react';\nimport Link from 'next/link';\nimport { agencyConfig } from '@/lib/data';\nimport { Logo } from '@/components/logo';\nimport { useHero } from '@/contexts/hero-context';\n\n/**\n * Color variants for each hero section\n * Based on the 5 brand colors\n */\nconst HERO_COLORS = {\n  CLIMATE: {\n    primary: '#10B2D7', // Pacific Cyan\n    accent: '#175F8F',   // Crayola\n    text: '#10B2D7',    // Pacific Cyan\n  },\n  FOOD: {\n    primary: '#BFD380', // Mindaro\n    accent: '#9DEE00',  // Spring Bud\n    text: '#BFD380',    // Mindaro\n  },\n  SOCIAL: {\n    primary: '#9DEE00', // Spring Bud\n    accent: '#10B2D7',  // Pacific Cyan\n    text: '#9DEE00',    // Spring Bud\n  },\n} as const;\n\n/**\n * Header component - memoized for performance\n * Only re-renders when activeHero changes\n */\nexport const Header = memo(function Header() {\n  const { activeHero } = useHero();\n  \n  // Memoize colors to prevent recalculation on every render\n  const colors = useMemo(() => HERO_COLORS[activeHero], [activeHero]);\n\n  return (\n    <header \n      className=\"fixed top-0 left-0 right-0 z-50 w-full\"\n    >\n      <div className=\"w-full flex h-20 items-center justify-center px-4 md:px-6 lg:px-8\">\n        {/* Logo and Brand Name - Centered */}\n        <Link \n          href=\"/\" \n          className=\"flex items-center gap-4 group transition-opacity hover:opacity-80\"\n        >\n          <Logo />\n          <span \n            className=\"font-headline text-xl font-black tracking-tight md:text-2xl transition-colors duration-500\"\n            style={{ color: colors.text }}\n          >\n            {agencyConfig.fullName}\n          </span>\n        </Link>\n      </div>\n    </header>\n  );\n});\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQA;;;CAGC,GACD,MAAM,cAAc;IAClB,SAAS;QACP,SAAS;QACT,QAAQ;QACR,MAAM;IACR;IACA,MAAM;QACJ,SAAS;QACT,QAAQ;QACR,MAAM;IACR;IACA,QAAQ;QACN,SAAS;QACT,QAAQ;QACR,MAAM;IACR;AACF;AAMO,MAAM,uBAAS,IAAA,4UAAI,EAAC,SAAS;IAClC,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,+JAAO;IAE9B,0DAA0D;IAC1D,MAAM,SAAS,IAAA,+UAAO,EAAC,IAAM,WAAW,CAAC,WAAW,EAAE;QAAC;KAAW;IAElE,qBACE,6WAAC;QACC,WAAU;kBAEV,cAAA,6WAAC;YAAI,WAAU;sBAEb,cAAA,6WAAC,sSAAI;gBACH,MAAK;gBACL,WAAU;;kCAEV,6WAAC,mJAAI;;;;;kCACL,6WAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,OAAO,OAAO,IAAI;wBAAC;kCAE3B,mKAAY,CAAC,QAAQ;;;;;;;;;;;;;;;;;;;;;;AAMlC","debugId":null}},
    {"offset": {"line": 605, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/lib/sequence/sequenceUrl.ts"],"sourcesContent":["\"use client\";\n\nimport type { Program } from \"@/lib/data\";\n\ntype SequenceConfig = Program[\"sequence\"];\n\n/** Pads a number with leading zeros. */\nfunction pad(num: number, length: number): string {\n  return num.toString().padStart(length, \"0\");\n}\n\n/**\n * Builds a frame URL for a 0-based app index.\n * Supabase filenames are 1-based: frame_000001.webp is the first frame.\n */\nexport function buildFrameUrl(sequence: SequenceConfig, frameIndex0: number): string {\n  const actualFrameNumber = frameIndex0 + 1; // 1-based filenames\n  return `${sequence.baseUrl}${pad(actualFrameNumber, sequence.padLength)}${sequence.fileExtension}`;\n}"],"names":[],"mappings":";;;;AAAA;AAMA,sCAAsC,GACtC,SAAS,IAAI,GAAW,EAAE,MAAc;IACtC,OAAO,IAAI,QAAQ,GAAG,QAAQ,CAAC,QAAQ;AACzC;AAMO,SAAS,cAAc,QAAwB,EAAE,WAAmB;IACzE,MAAM,oBAAoB,cAAc,GAAG,oBAAoB;IAC/D,OAAO,GAAG,SAAS,OAAO,GAAG,IAAI,mBAAmB,SAAS,SAAS,IAAI,SAAS,aAAa,EAAE;AACpG","debugId":null}},
    {"offset": {"line": 621, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/lib/sequence/sequenceCache.ts"],"sourcesContent":["\"use client\";\n\nimport { LRUCache } from \"lru-cache\";\nimport type { Program } from \"@/lib/data\";\nimport { buildFrameUrl } from \"@/lib/sequence/sequenceUrl\";\n\nexport type Frame = HTMLImageElement;\n\ntype SequenceConfig = Program[\"sequence\"];\n\ntype PreloadAllOptions = {\n  concurrency: number;\n  signal?: AbortSignal;\n  onProgress?: (pct: number) => void;\n};\n\n/**\n * Best-practice caching (big-brand style):\n * - Pinned cache for \"hot window\" frames (never evicted, guarantees instant switch).\n * - LRU cache for everything else (adaptive size based on device capabilities).\n * - Deduplication for in-flight loads.\n * - Failed URL short TTL to avoid spam-retry loops on 404.\n *\n * NOTE:\n * - Preloading *decoded* frames for all programs is heavy on low-end devices.\n * - We still support it, but the cache is adaptive, and pinned frames always win.\n */\nclass SequenceCacheManager {\n  /** programName -> precomputed urls */\n  private programs = new Map<string, { sequence: SequenceConfig; urls: string[] }>();\n\n  /** pinned frames (never evicted) */\n  private pinned = new Map<string, Frame>();\n\n  /** LRU for non-pinned frames */\n  private lru = new LRUCache<string, Frame>({\n    max: 360,\n    ttl: 1000 * 60 * 10,\n  });\n\n  /** URLs that failed recently (avoid infinite retries) */\n  private failed = new LRUCache<string, true>({\n    max: 4000,\n    ttl: 1000 * 30,\n  });\n\n  /** Deduplicate loads */\n  private inFlight = new Map<string, Promise<Frame>>();\n\n  /** Simple subscription for UI redraw when new frames arrive */\n  private version = 0;\n  private listeners = new Set<() => void>();\n\n  /** Device-tuned options */\n  private concurrencyLimit = 6;\n\n  /**\n   * Configure cache limits based on device.\n   * Brands typically adapt using:\n   * - navigator.deviceMemory\n   * - network saveData / effectiveType\n   * - mobile breakpoint\n   */\n  configureForDevice(isMobile: boolean) {\n    const deviceMemory = (navigator as any).deviceMemory as number | undefined;\n    const conn = (navigator as any).connection;\n    const saveData: boolean | undefined = conn?.saveData;\n\n    // LRU max entries: tuned for \"decoded images in memory\"\n    // (Pinned frames are extra, and should be kept small.)\n    let max = 480;\n\n    if (isMobile) max = 260;\n    if (deviceMemory && deviceMemory <= 2) max = isMobile ? 160 : 240;\n    if (saveData) max = Math.min(max, 180);\n\n    // Concurrency: avoid decode/GC spikes on low-end\n    let conc = 6;\n    const cores = navigator.hardwareConcurrency || 4;\n    conc = Math.max(2, Math.min(10, Math.floor(cores / 2)));\n\n    if (isMobile) conc = Math.min(conc, 4);\n    if (deviceMemory && deviceMemory <= 2) conc = Math.min(conc, 3);\n    if (saveData) conc = Math.min(conc, 2);\n\n    this.lru = new LRUCache<string, Frame>({\n      max,\n      ttl: 1000 * 60 * 10,\n    });\n\n    this.concurrencyLimit = conc;\n\n    // Keep pinned as-is (small hot windows)\n    this.bump();\n  }\n\n  /**\n   * Initialize programs registry and precompute URLs.\n   * Must be called once at app start.\n   */\n  init(programList: Program[]) {\n    this.programs.clear();\n\n    for (const p of programList) {\n      const urls: string[] = new Array(p.sequence.frameCount);\n      for (let i = 0; i < p.sequence.frameCount; i++) {\n        urls[i] = buildFrameUrl(p.sequence, i);\n      }\n      this.programs.set(p.name, { sequence: p.sequence, urls });\n    }\n\n    this.bump();\n  }\n\n  /**\n   * Subscribe to cache updates (frames arriving).\n   * Used by Hero to redraw even without scroll.\n   */\n  subscribe = (listener: () => void) => {\n    this.listeners.add(listener);\n    return () => this.listeners.delete(listener);\n  };\n\n  /**\n   * Version counter for useSyncExternalStore.\n   */\n  getVersion = () => this.version;\n\n  /**\n   * Notify UI that cache changed.\n   */\n  private bump() {\n    this.version++;\n    for (const l of this.listeners) l();\n  }\n\n  /**\n   * Get url for program/frame (0-based index).\n   */\n  private urlFor(programName: string, frameIndex0: number): string {\n    const entry = this.programs.get(programName);\n    if (!entry) throw new Error(`sequenceCache: program not initialized: ${programName}`);\n    const idx = Math.max(0, Math.min(entry.urls.length - 1, frameIndex0));\n    return entry.urls[idx];\n  }\n\n  /**\n   * Get a frame synchronously from cache (pinned first, then LRU).\n   */\n  getFrame(programName: string, frameIndex0: number): Frame | undefined {\n    const url = this.urlFor(programName, frameIndex0);\n    return this.pinned.get(url) ?? this.lru.get(url);\n  }\n\n  /**\n   * Check if frame exists in cache (pinned or LRU).\n   */\n  hasFrame(programName: string, frameIndex0: number): boolean {\n    const url = this.urlFor(programName, frameIndex0);\n    return this.pinned.has(url) || this.lru.has(url);\n  }\n\n  /**\n   * Pin a range of frames so they can NEVER be evicted.\n   * This guarantees instant switching and \"no flashing\".\n   *\n   * Keep this window small (e.g. 0..24) per program.\n   */\n  pinRange(programName: string, from0: number, to0: number) {\n    const entry = this.programs.get(programName);\n    if (!entry) return;\n\n    const from = Math.max(0, from0);\n    const to = Math.min(entry.urls.length - 1, to0);\n\n    for (let i = from; i <= to; i++) {\n      const url = entry.urls[i];\n      // If already in LRU, move it to pinned to protect it.\n      const existing = this.lru.get(url);\n      if (existing) {\n        this.lru.delete(url);\n        this.pinned.set(url, existing);\n      }\n    }\n\n    this.bump();\n  }\n\n  /**\n   * True if URL is being loaded.\n   */\n  isInFlightUrl(url: string) {\n    return this.inFlight.has(url);\n  }\n\n  /**\n   * Ensure a frame is loaded & cached.\n   * If the frame belongs to a pinned range, it will be stored in pinned.\n   */\n  ensureFrame(programName: string, frameIndex0: number, signal?: AbortSignal): Promise<Frame> {\n    const url = this.urlFor(programName, frameIndex0);\n\n    const pinned = this.pinned.get(url);\n    if (pinned) return Promise.resolve(pinned);\n\n    const cached = this.lru.get(url);\n    if (cached) return Promise.resolve(cached);\n\n    if (this.failed.has(url)) {\n      return Promise.reject(new Error(`sequenceCache: url previously failed: ${url}`));\n    }\n\n    const inflight = this.inFlight.get(url);\n    if (inflight) return inflight;\n\n    const p = this.loadImageElement(url, signal)\n      .then((img) => {\n        // Store in pinned if it is pinned OR if caller later pins it (we keep it simple:\n        // if already pinned by URL, store pinned; else LRU)\n        if (this.pinned.has(url)) this.pinned.set(url, img);\n        else this.lru.set(url, img);\n\n        this.inFlight.delete(url);\n        this.bump();\n        return img;\n      })\n      .catch((err) => {\n        this.inFlight.delete(url);\n        if (!(err instanceof DOMException && err.name === \"AbortError\")) this.failed.set(url, true);\n        throw err;\n      });\n\n    this.inFlight.set(url, p);\n    return p;\n  }\n\n  /**\n   * Preload around a frame (useful while scrolling).\n   */\n  preloadAround(programName: string, center0: number, ahead: number, behind: number) {\n    const entry = this.programs.get(programName);\n    if (!entry) return;\n\n    const from = Math.max(0, center0 - behind);\n    const to = Math.min(entry.urls.length - 1, center0 + ahead);\n\n    const urls: string[] = [];\n    for (let i = from; i <= to; i++) {\n      const url = entry.urls[i];\n      if (this.pinned.has(url) || this.lru.has(url) || this.inFlight.has(url) || this.failed.has(url)) continue;\n      urls.push(url);\n    }\n\n    if (!urls.length) return;\n    void this.preloadUrls(urls);\n  }\n\n  /**\n   * Preload ALL frames (decoded).\n   * Use with adaptive limits — pinned windows ensure UX even if LRU evicts older frames.\n   */\n  async preloadAll(opts: PreloadAllOptions) {\n    const { concurrency, signal, onProgress } = opts;\n\n    // Respect device cap\n    const conc = Math.max(1, Math.min(concurrency, this.concurrencyLimit));\n\n    const urls: string[] = [];\n    for (const [, entry] of this.programs) {\n      for (const url of entry.urls) {\n        if (this.pinned.has(url) || this.lru.has(url) || this.failed.has(url)) continue;\n        urls.push(url);\n      }\n    }\n\n    const total = urls.length;\n    if (total === 0) {\n      onProgress?.(100);\n      return;\n    }\n\n    let done = 0;\n    const bump = () => onProgress?.(Math.min(100, (done / total) * 100));\n\n    await this.asyncPool(conc, urls, async (url) => {\n      if (signal?.aborted) return;\n\n      try {\n        // We do not know programName here, but pinned is URL-based:\n        // if URL exists in pinned set, it will be stored pinned.\n        await this.ensureUrl(url, signal);\n      } catch {\n        // ignore per-url failures\n      } finally {\n        done++;\n        bump();\n      }\n    });\n\n    onProgress?.(100);\n  }\n\n  /**\n   * Ensure URL directly (internal).\n   * This is used by preloadAll which already has URLs.\n   */\n  private ensureUrl(url: string, signal?: AbortSignal): Promise<Frame> {\n    const pinned = this.pinned.get(url);\n    if (pinned) return Promise.resolve(pinned);\n\n    const cached = this.lru.get(url);\n    if (cached) return Promise.resolve(cached);\n\n    if (this.failed.has(url)) {\n      return Promise.reject(new Error(`sequenceCache: url previously failed: ${url}`));\n    }\n\n    const inflight = this.inFlight.get(url);\n    if (inflight) return inflight;\n\n    const p = this.loadImageElement(url, signal)\n      .then((img) => {\n        if (this.pinned.has(url)) this.pinned.set(url, img);\n        else this.lru.set(url, img);\n\n        this.inFlight.delete(url);\n        this.bump();\n        return img;\n      })\n      .catch((err) => {\n        this.inFlight.delete(url);\n        if (!(err instanceof DOMException && err.name === \"AbortError\")) this.failed.set(url, true);\n        throw err;\n      });\n\n    this.inFlight.set(url, p);\n    return p;\n  }\n\n  /**\n   * Internal helper: preload a list of URLs with concurrency limit.\n   */\n  private async preloadUrls(urls: string[]) {\n    const conc = Math.max(1, this.concurrencyLimit);\n    await this.asyncPool(conc, urls, async (url) => {\n      try {\n        await this.ensureUrl(url);\n      } catch {\n        // ignore\n      }\n    });\n  }\n\n  /**\n   * Concurrency pool.\n   */\n  private async asyncPool<T>(\n    limit: number,\n    items: T[],\n    worker: (item: T) => Promise<void>\n  ): Promise<void> {\n    const executing = new Set<Promise<void>>();\n\n    for (const item of items) {\n      const p = worker(item);\n      executing.add(p);\n\n      const cleanup = () => executing.delete(p);\n      p.then(cleanup).catch(cleanup);\n\n      if (executing.size >= limit) {\n        await Promise.race(executing);\n      }\n    }\n\n    await Promise.allSettled([...executing]);\n  }\n\n  /**\n   * Image loader using HTMLImageElement.\n   * No forced crossOrigin to avoid hard failures with missing CORS headers.\n   */\n  private loadImageElement(url: string, signal?: AbortSignal): Promise<HTMLImageElement> {\n    return new Promise((resolve, reject) => {\n      const img = new Image();\n\n      const onAbort = () => {\n        img.src = \"\";\n        reject(new DOMException(\"Aborted\", \"AbortError\"));\n      };\n\n      if (signal) signal.addEventListener(\"abort\", onAbort, { once: true });\n\n      img.onload = () => {\n        if (signal) signal.removeEventListener(\"abort\", onAbort);\n        resolve(img);\n      };\n\n      img.onerror = (e) => {\n        if (signal) signal.removeEventListener(\"abort\", onAbort);\n        reject(e);\n      };\n\n      img.src = url;\n    });\n  }\n}\n\nexport const sequenceCache = new SequenceCacheManager();\n\n/**\n * DPR best practice:\n * - Desktop: cap at 2\n * - Mobile: cap tighter to reduce canvas fill + decode cost\n */\nexport function getAdaptiveDpr(isMobile: boolean): number {\n  const dpr = window.devicePixelRatio || 1;\n  if (!isMobile) return Math.min(2, dpr);\n\n  const deviceMemory = (navigator as any).deviceMemory as number | undefined;\n  if (deviceMemory && deviceMemory <= 2) return Math.min(1.25, dpr);\n\n  return Math.min(1.5, dpr);\n}\n\n/**\n * Concurrency best practice:\n * - Desktop: higher\n * - Mobile: lower\n * - saveData / low memory: lowest\n */\nexport function getAdaptiveConcurrency(isMobile: boolean): number {\n  const conn = (navigator as any).connection;\n  const saveData: boolean | undefined = conn?.saveData;\n  const effectiveType: string | undefined = conn?.effectiveType;\n\n  const deviceMemory = (navigator as any).deviceMemory as number | undefined;\n  const cores = navigator.hardwareConcurrency || 4;\n\n  let base = Math.max(2, Math.min(10, Math.floor(cores / 2)));\n\n  if (isMobile) base = Math.min(base, 4);\n  if (deviceMemory && deviceMemory <= 2) base = Math.min(base, 3);\n  if (saveData) base = Math.min(base, 2);\n  if (effectiveType === \"2g\" || effectiveType === \"slow-2g\") base = 1;\n\n  return Math.max(1, base);\n}\n\nexport function initSequenceCache(programs: Program[]) {\n  sequenceCache.init(programs);\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 962, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/hooks/useScrollSequence.ts"],"sourcesContent":["\"use client\";\n\nimport { useCallback, useEffect, useRef, useState, type RefObject } from \"react\";\nimport type { Program } from \"@/lib/data\";\n\ntype EasingMode = \"linear\" | \"easeOut\" | \"easeInOut\";\n\ninterface UseScrollSequenceProps {\n  program: Program | null;\n  heroRef: RefObject<HTMLDivElement | null>;\n  easing?: EasingMode;\n}\n\nfunction clamp(n: number, min: number, max: number) {\n  return Math.min(max, Math.max(min, n));\n}\n\nfunction ease(mode: EasingMode, t: number) {\n  const x = clamp(t, 0, 1);\n  if (mode === \"linear\") return x;\n  if (mode === \"easeOut\") return 1 - Math.pow(1 - x, 3);\n  return x * x * (3 - 2 * x); // smoothstep\n}\n\n/**\n * Best practice: Use Intersection Observer to detect when element is in viewport\n * This reduces unnecessary scroll calculations when element is off-screen\n */\nfunction useIntersectionObserver(\n  elementRef: RefObject<HTMLElement | null>,\n  callback: (isIntersecting: boolean) => void,\n  options?: IntersectionObserverInit\n) {\n  useEffect(() => {\n    const element = elementRef.current;\n    if (!element) return;\n\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        callback(entry.isIntersecting);\n      },\n      {\n        root: null,\n        rootMargin: \"50%\", // Start calculations slightly before element enters viewport\n        threshold: [0, 0.25, 0.5, 0.75, 1],\n        ...options,\n      }\n    );\n\n    observer.observe(element);\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [elementRef, callback, options]);\n}\n\n/**\n * Scroll-driven frame index with a \"switch lock\".\n * During program switching we:\n * - lock to frame 0\n * - force state immediately\n * - unlock only when Hero is ready\n * \n * Best practices implemented:\n * - Intersection Observer for viewport detection (performance)\n * - RAF throttling for scroll events (smooth animations)\n * - Passive event listeners (better scroll performance)\n * - Early returns when element is off-screen\n */\nexport function useScrollSequence({ program, heroRef, easing = \"linear\" }: UseScrollSequenceProps) {\n  const [currentFrame, setCurrentFrame] = useState(0);\n  const currentFrameRef = useRef(0);\n  const [isInViewport, setIsInViewport] = useState(true);\n\n  const lockFrame0Ref = useRef(false);\n\n  /**\n   * Set frame immediately (bypasses scroll computation).\n   */\n  const setFrameImmediate = useCallback((idx: number) => {\n    currentFrameRef.current = idx;\n    setCurrentFrame(idx);\n  }, []);\n\n  /**\n   * Force frame 0 and lock it (no mid-frame flash).\n   */\n  const forceFrame0Lock = useCallback(() => {\n    lockFrame0Ref.current = true;\n    setFrameImmediate(0);\n  }, [setFrameImmediate]);\n\n  /**\n   * Unlock scroll-driven updates.\n   */\n  const unlockAfterSwitch = useCallback(() => {\n    lockFrame0Ref.current = false;\n  }, []);\n\n  /**\n   * Compute frame based on scroll position inside hero.\n   * Optimized with early returns and viewport detection.\n   */\n  const computeFrameIndex = useCallback(() => {\n    const el = heroRef.current;\n    if (!el || !program) return;\n\n    if (lockFrame0Ref.current) {\n      if (currentFrameRef.current !== 0) setFrameImmediate(0);\n      return;\n    }\n\n    // Early return if element is not in viewport (performance optimization)\n    if (!isInViewport) return;\n\n    const { top, height } = el.getBoundingClientRect();\n    const scrollable = Math.max(1, height - window.innerHeight);\n\n    // Early return if element is completely off-screen\n    if (top > window.innerHeight || top + height < 0) return;\n\n    const distance = clamp(-top, 0, scrollable);\n    const fraction = distance / scrollable;\n\n    const mapped = ease(easing, fraction);\n    const next = Math.round(mapped * (program.sequence.frameCount - 1));\n\n    if (next !== currentFrameRef.current) {\n      setFrameImmediate(next);\n    }\n  }, [heroRef, program, easing, setFrameImmediate, isInViewport]);\n\n  /**\n   * Use Intersection Observer to detect when hero section is in viewport.\n   * This prevents unnecessary scroll calculations when off-screen.\n   */\n  useIntersectionObserver(heroRef, setIsInViewport, {\n    rootMargin: \"50%\", // Start calculations slightly before element enters\n  });\n\n  /**\n   * RAF-throttled scroll listener with passive event listener for better performance.\n   * Best practice: Use passive listeners to improve scroll performance.\n   */\n  useEffect(() => {\n    let raf = 0;\n    let ticking = false;\n\n    const onScroll = () => {\n      if (!ticking) {\n        cancelAnimationFrame(raf);\n        raf = requestAnimationFrame(() => {\n          computeFrameIndex();\n          ticking = false;\n        });\n        ticking = true;\n      }\n    };\n\n    // Use passive listener for better scroll performance\n    window.addEventListener(\"scroll\", onScroll, { passive: true });\n    // Also listen to resize events for responsive behavior\n    window.addEventListener(\"resize\", onScroll, { passive: true });\n    \n    // Initial calculation\n    onScroll();\n\n    return () => {\n      window.removeEventListener(\"scroll\", onScroll);\n      window.removeEventListener(\"resize\", onScroll);\n      cancelAnimationFrame(raf);\n    };\n  }, [computeFrameIndex]);\n\n  /**\n   * On program change we default to frame 0.\n   * (Hero switch logic will also do an atomic frame0 draw.)\n   */\n  useEffect(() => {\n    setFrameImmediate(0);\n  }, [program, setFrameImmediate]);\n\n  return { currentFrame, setFrameImmediate, forceFrame0Lock, unlockAfterSwitch };\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1123, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/domain/constants/hero.constants.ts"],"sourcesContent":["/**\n * Hero Section Constants\n * Single Responsibility: Centralized configuration values\n */\n\nexport const UI_TIMINGS = {\n  SWITCH_FADE_MS: 220,\n} as const;\n\n/**\n * Parallax configuration for each program\n * Strategy Pattern: Different easing strategies for visual variety\n */\nexport const PARALLAX_CONFIG = [\n  { scrollVh: 260, easing: \"easeOut\" as const },\n  { scrollVh: 300, easing: \"linear\" as const },\n  { scrollVh: 340, easing: \"easeInOut\" as const },\n] as const;\n\n/**\n * Pinned window sizes for instant program switching\n * These frames are never evicted from cache\n */\nexport const PINNED_WINDOW_SIZES = {\n  CLIMATE: 26,\n  FOOD: 32,\n  SOCIAL: 40,\n} as const;\n\n/**\n * Mobile preload window configuration\n * Optimized for low-RAM devices\n */\nexport const MOBILE_PRELOAD_WINDOWS = {\n  CLIMATE: { ahead: 14, behind: 6 },\n  FOOD: { ahead: 20, behind: 8 },\n  SOCIAL: { ahead: 26, behind: 10 },\n} as const;\n\n/**\n * Canvas rendering constants\n */\nexport const CANVAS_CONFIG = {\n  ZOOM_FACTOR: 1.05, // Desktop zoom factor\n  MOBILE_ZOOM_FACTOR: 0.95, // Mobile zoom factor (reduced to prevent horizontal cropping)\n  BACKGROUND_COLOR: 'hsl(175, 85%, 9%)',\n} as const;\n\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;;;;;AAEM,MAAM,aAAa;IACxB,gBAAgB;AAClB;AAMO,MAAM,kBAAkB;IAC7B;QAAE,UAAU;QAAK,QAAQ;IAAmB;IAC5C;QAAE,UAAU;QAAK,QAAQ;IAAkB;IAC3C;QAAE,UAAU;QAAK,QAAQ;IAAqB;CAC/C;AAMM,MAAM,sBAAsB;IACjC,SAAS;IACT,MAAM;IACN,QAAQ;AACV;AAMO,MAAM,yBAAyB;IACpC,SAAS;QAAE,OAAO;QAAI,QAAQ;IAAE;IAChC,MAAM;QAAE,OAAO;QAAI,QAAQ;IAAE;IAC7B,QAAQ;QAAE,OAAO;QAAI,QAAQ;IAAG;AAClC;AAKO,MAAM,gBAAgB;IAC3B,aAAa;IACb,oBAAoB;IACpB,kBAAkB;AACpB","debugId":null}},
    {"offset": {"line": 1183, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/services/sequence/sequence-initialization.service.ts"],"sourcesContent":["/**\n * Sequence Initialization Service\n * Single Responsibility: Sequence cache initialization logic\n * Separation of Concerns: Isolated initialization operations\n */\n\nimport type { Program } from '@/lib/data';\nimport { PINNED_WINDOW_SIZES } from '@/domain/constants/hero.constants';\nimport {\n  sequenceCache,\n  initSequenceCache,\n  getAdaptiveConcurrency,\n  getAdaptiveDpr,\n} from '@/lib/sequence/sequenceCache';\n\nexport interface InitializationOptions {\n  isMobile: boolean;\n  programs: Program[];\n  onProgress?: (progress: number) => void;\n  signal?: AbortSignal;\n}\n\n/**\n * Initialize sequence cache for all programs\n * Single Responsibility: Cache initialization\n */\nexport async function initializeSequenceCache(\n  options: InitializationOptions\n): Promise<void> {\n  const { isMobile, programs, onProgress, signal } = options;\n\n  // Configure cache for device type\n  sequenceCache.configureForDevice(isMobile);\n\n  // Register sequences and precompute URLs\n  initSequenceCache(programs);\n\n  // Pin critical windows for instant switching\n  for (const program of programs) {\n    const pinnedSize = getPinnedWindowSize(program.name);\n    const maxFrame = Math.min(\n      program.sequence.frameCount - 1,\n      pinnedSize\n    );\n\n    sequenceCache.pinRange(program.name, 0, maxFrame);\n  }\n\n  // Preload all frames\n  const concurrency = getAdaptiveConcurrency(isMobile);\n  await sequenceCache.preloadAll({\n    concurrency,\n    signal,\n    onProgress,\n  });\n}\n\n/**\n * Get pinned window size for program\n * Factory pattern: Centralized configuration retrieval\n */\nfunction getPinnedWindowSize(programName: string): number {\n  switch (programName) {\n    case 'CLIMATE':\n      return PINNED_WINDOW_SIZES.CLIMATE;\n    case 'FOOD':\n      return PINNED_WINDOW_SIZES.FOOD;\n    case 'SOCIAL':\n      return PINNED_WINDOW_SIZES.SOCIAL;\n    default:\n      return PINNED_WINDOW_SIZES.CLIMATE;\n  }\n}\n\n/**\n * Get mobile preload window configuration\n */\nexport function getMobilePreloadWindow(programName: string): {\n  ahead: number;\n  behind: number;\n} {\n  switch (programName) {\n    case 'CLIMATE':\n      return { ahead: 14, behind: 6 };\n    case 'FOOD':\n      return { ahead: 20, behind: 8 };\n    case 'SOCIAL':\n      return { ahead: 26, behind: 10 };\n    default:\n      return { ahead: 14, behind: 6 };\n  }\n}\n\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;;AAGD;AACA;;;AAkBO,eAAe,wBACpB,OAA8B;IAE9B,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,EAAE,GAAG;IAEnD,kCAAkC;IAClC,yKAAa,CAAC,kBAAkB,CAAC;IAEjC,yCAAyC;IACzC,IAAA,6KAAiB,EAAC;IAElB,6CAA6C;IAC7C,KAAK,MAAM,WAAW,SAAU;QAC9B,MAAM,aAAa,oBAAoB,QAAQ,IAAI;QACnD,MAAM,WAAW,KAAK,GAAG,CACvB,QAAQ,QAAQ,CAAC,UAAU,GAAG,GAC9B;QAGF,yKAAa,CAAC,QAAQ,CAAC,QAAQ,IAAI,EAAE,GAAG;IAC1C;IAEA,qBAAqB;IACrB,MAAM,cAAc,IAAA,kLAAsB,EAAC;IAC3C,MAAM,yKAAa,CAAC,UAAU,CAAC;QAC7B;QACA;QACA;IACF;AACF;AAEA;;;CAGC,GACD,SAAS,oBAAoB,WAAmB;IAC9C,OAAQ;QACN,KAAK;YACH,OAAO,uLAAmB,CAAC,OAAO;QACpC,KAAK;YACH,OAAO,uLAAmB,CAAC,IAAI;QACjC,KAAK;YACH,OAAO,uLAAmB,CAAC,MAAM;QACnC;YACE,OAAO,uLAAmB,CAAC,OAAO;IACtC;AACF;AAKO,SAAS,uBAAuB,WAAmB;IAIxD,OAAQ;QACN,KAAK;YACH,OAAO;gBAAE,OAAO;gBAAI,QAAQ;YAAE;QAChC,KAAK;YACH,OAAO;gBAAE,OAAO;gBAAI,QAAQ;YAAE;QAChC,KAAK;YACH,OAAO;gBAAE,OAAO;gBAAI,QAAQ;YAAG;QACjC;YACE,OAAO;gBAAE,OAAO;gBAAI,QAAQ;YAAE;IAClC;AACF","debugId":null}},
    {"offset": {"line": 1260, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/hooks/use-mobile.tsx"],"sourcesContent":["import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,oBAAoB;AAEnB,SAAS;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,gVAAc,CAAsB;IAEpE,iVAAe,CAAC;QACd,MAAM,MAAM,OAAO,UAAU,CAAC,CAAC,YAAY,EAAE,oBAAoB,EAAE,GAAG,CAAC;QACvE,MAAM,WAAW;YACf,YAAY,OAAO,UAAU,GAAG;QAClC;QACA,IAAI,gBAAgB,CAAC,UAAU;QAC/B,YAAY,OAAO,UAAU,GAAG;QAChC,OAAO,IAAM,IAAI,mBAAmB,CAAC,UAAU;IACjD,GAAG,EAAE;IAEL,OAAO,CAAC,CAAC;AACX","debugId":null}},
    {"offset": {"line": 1284, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/hooks/useHeroBoot.hook.ts"],"sourcesContent":["/**\n * useHeroBoot Hook\n * Single Responsibility: Hero section boot/preload logic\n * Separation of Concerns: Isolated initialization state management\n */\n\nimport { useEffect, useState } from 'react';\nimport { programs } from '@/lib/data';\nimport { initializeSequenceCache } from '@/services/sequence/sequence-initialization.service';\nimport { useIsMobile } from './use-mobile';\n\nexport interface UseHeroBootResult {\n  bootReady: boolean;\n  bootProgress: number;\n}\n\n/**\n * Hook for managing hero section boot/preload state\n * Encapsulates initialization logic\n */\nexport function useHeroBoot(): UseHeroBootResult {\n  const isMobile = useIsMobile();\n  const [bootReady, setBootReady] = useState(false);\n  const [bootProgress, setBootProgress] = useState(0);\n\n  useEffect(() => {\n    const abortController = new AbortController();\n\n    const initialize = async () => {\n      try {\n        await initializeSequenceCache({\n          isMobile,\n          programs,\n          onProgress: setBootProgress,\n          signal: abortController.signal,\n        });\n\n        if (!abortController.signal.aborted) {\n          setBootProgress(100);\n          setBootReady(true);\n        }\n      } catch (error) {\n        // Silently handle errors - ensure UI is always shown\n        if (!abortController.signal.aborted) {\n          setBootProgress(100);\n          setBootReady(true);\n        }\n      }\n    };\n\n    void initialize();\n\n    return () => {\n      abortController.abort();\n    };\n  }, [isMobile]);\n\n  return { bootReady, bootProgress };\n}\n\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;AAED;AACA;AACA;AACA;;;;;AAWO,SAAS;IACd,MAAM,WAAW,IAAA,8JAAW;IAC5B,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gVAAQ,EAAC;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gVAAQ,EAAC;IAEjD,IAAA,iVAAS,EAAC;QACR,MAAM,kBAAkB,IAAI;QAE5B,MAAM,aAAa;YACjB,IAAI;gBACF,MAAM,IAAA,gNAAuB,EAAC;oBAC5B;oBACA,UAAA,+JAAQ;oBACR,YAAY;oBACZ,QAAQ,gBAAgB,MAAM;gBAChC;gBAEA,IAAI,CAAC,gBAAgB,MAAM,CAAC,OAAO,EAAE;oBACnC,gBAAgB;oBAChB,aAAa;gBACf;YACF,EAAE,OAAO,OAAO;gBACd,qDAAqD;gBACrD,IAAI,CAAC,gBAAgB,MAAM,CAAC,OAAO,EAAE;oBACnC,gBAAgB;oBAChB,aAAa;gBACf;YACF;QACF;QAEA,KAAK;QAEL,OAAO;YACL,gBAAgB,KAAK;QACvB;IACF,GAAG;QAAC;KAAS;IAEb,OAAO;QAAE;QAAW;IAAa;AACnC","debugId":null}},
    {"offset": {"line": 1342, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/services/canvas/canvas-renderer.service.ts"],"sourcesContent":["/**\n * Canvas Renderer Service\n * Single Responsibility: Canvas drawing logic\n * Separation of Concerns: Isolated rendering logic\n */\n\nimport { CANVAS_CONFIG } from '@/domain/constants/hero.constants';\n\nexport interface CanvasDimensions {\n  width: number;\n  height: number;\n}\n\nexport interface FrameImage {\n  width: number;\n  height: number;\n}\n\n/**\n * Calculate canvas dimensions with DPR\n */\nexport function calculateCanvasDimensions(\n  viewportWidth: number,\n  viewportHeight: number,\n  dpr: number\n): CanvasDimensions {\n  return {\n    width: Math.floor(viewportWidth * dpr),\n    height: Math.floor(viewportHeight * dpr),\n  };\n}\n\n/**\n * Calculate image positioning for cover-fit with zoom\n * On mobile: uses \"contain\" strategy to prevent horizontal cropping\n * On desktop: uses \"cover\" strategy with zoom for full coverage\n */\nexport function calculateImagePosition(\n  frame: FrameImage,\n  canvasWidth: number,\n  canvasHeight: number,\n  isMobile: boolean = false\n): {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n} {\n  const zoomFactor = isMobile \n    ? CANVAS_CONFIG.MOBILE_ZOOM_FACTOR \n    : CANVAS_CONFIG.ZOOM_FACTOR;\n  \n  const imgAspect = frame.width / frame.height;\n  const canvasAspect = canvasWidth / canvasHeight;\n\n  let renderWidth: number;\n  let renderHeight: number;\n  let x: number;\n  let y: number;\n\n  if (isMobile) {\n    // Mobile: Scale to full width with slight zoom to eliminate any side gaps\n    // Use small zoom to ensure complete coverage\n    renderWidth = canvasWidth * 1.02; // 2% zoom to eliminate side gaps\n    renderHeight = renderWidth / imgAspect;\n    x = (canvasWidth - renderWidth) / 2; // Center horizontally (will be slightly negative to cover edges)\n    y = (canvasHeight - renderHeight) / 2; // Center vertically\n  } else {\n    // Desktop: Use \"cover\" strategy with zoom for full coverage\n    if (imgAspect > canvasAspect) {\n      // Image is wider - scale to cover height with zoom\n      renderHeight = canvasHeight * zoomFactor;\n      renderWidth = renderHeight * imgAspect;\n      x = (canvasWidth - renderWidth) / 2;\n      y = (canvasHeight - renderHeight) / 2;\n    } else {\n      // Image is taller - scale to cover width with zoom\n      renderWidth = canvasWidth * zoomFactor;\n      renderHeight = renderWidth / imgAspect;\n      x = (canvasWidth - renderWidth) / 2;\n      y = (canvasHeight - renderHeight) / 2;\n    }\n  }\n\n  return { x, y, width: renderWidth, height: renderHeight };\n}\n\n/**\n * Draw frame on canvas\n * Single Responsibility: Canvas drawing operation\n * Optimized for mobile to prevent horizontal cropping\n */\nexport function drawFrameOnCanvas(\n  ctx: CanvasRenderingContext2D,\n  frame: HTMLImageElement,\n  canvasWidth: number,\n  canvasHeight: number,\n  dpr: number,\n  isMobile: boolean = false\n): void {\n  // Set canvas size if needed\n  const canvas = ctx.canvas;\n  const viewportWidth = canvasWidth / dpr;\n  const viewportHeight = canvasHeight / dpr;\n\n  if (canvas.width !== canvasWidth || canvas.height !== canvasHeight) {\n    canvas.width = canvasWidth;\n    canvas.height = canvasHeight;\n    canvas.style.width = `${viewportWidth}px`;\n    canvas.style.height = `${viewportHeight}px`;\n  }\n\n  // Set transform for DPR\n  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n\n  // Calculate position first\n  const position = calculateImagePosition(frame, viewportWidth, viewportHeight, isMobile);\n\n  // Fill background - on mobile only fill top/bottom if image doesn't cover full height\n  if (isMobile && position.width >= viewportWidth) {\n    // Mobile: Image covers full width, only fill top/bottom if needed\n    if (position.y > 0) {\n      ctx.fillStyle = CANVAS_CONFIG.BACKGROUND_COLOR;\n      ctx.fillRect(0, 0, viewportWidth, position.y);\n    }\n    if (position.y + position.height < viewportHeight) {\n      ctx.fillStyle = CANVAS_CONFIG.BACKGROUND_COLOR;\n      ctx.fillRect(0, position.y + position.height, viewportWidth, viewportHeight - (position.y + position.height));\n    }\n  } else {\n    // Desktop: fill entire background\n    ctx.fillStyle = CANVAS_CONFIG.BACKGROUND_COLOR;\n    ctx.fillRect(0, 0, viewportWidth, viewportHeight);\n  }\n\n  // Draw image\n  ctx.drawImage(frame, position.x, position.y, position.width, position.height);\n}\n\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;;;;AAED;;AAeO,SAAS,0BACd,aAAqB,EACrB,cAAsB,EACtB,GAAW;IAEX,OAAO;QACL,OAAO,KAAK,KAAK,CAAC,gBAAgB;QAClC,QAAQ,KAAK,KAAK,CAAC,iBAAiB;IACtC;AACF;AAOO,SAAS,uBACd,KAAiB,EACjB,WAAmB,EACnB,YAAoB,EACpB,WAAoB,KAAK;IAOzB,MAAM,aAAa,WACf,iLAAa,CAAC,kBAAkB,GAChC,iLAAa,CAAC,WAAW;IAE7B,MAAM,YAAY,MAAM,KAAK,GAAG,MAAM,MAAM;IAC5C,MAAM,eAAe,cAAc;IAEnC,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IAEJ,IAAI,UAAU;QACZ,0EAA0E;QAC1E,6CAA6C;QAC7C,cAAc,cAAc,MAAM,iCAAiC;QACnE,eAAe,cAAc;QAC7B,IAAI,CAAC,cAAc,WAAW,IAAI,GAAG,iEAAiE;QACtG,IAAI,CAAC,eAAe,YAAY,IAAI,GAAG,oBAAoB;IAC7D,OAAO;QACL,4DAA4D;QAC5D,IAAI,YAAY,cAAc;YAC5B,mDAAmD;YACnD,eAAe,eAAe;YAC9B,cAAc,eAAe;YAC7B,IAAI,CAAC,cAAc,WAAW,IAAI;YAClC,IAAI,CAAC,eAAe,YAAY,IAAI;QACtC,OAAO;YACL,mDAAmD;YACnD,cAAc,cAAc;YAC5B,eAAe,cAAc;YAC7B,IAAI,CAAC,cAAc,WAAW,IAAI;YAClC,IAAI,CAAC,eAAe,YAAY,IAAI;QACtC;IACF;IAEA,OAAO;QAAE;QAAG;QAAG,OAAO;QAAa,QAAQ;IAAa;AAC1D;AAOO,SAAS,kBACd,GAA6B,EAC7B,KAAuB,EACvB,WAAmB,EACnB,YAAoB,EACpB,GAAW,EACX,WAAoB,KAAK;IAEzB,4BAA4B;IAC5B,MAAM,SAAS,IAAI,MAAM;IACzB,MAAM,gBAAgB,cAAc;IACpC,MAAM,iBAAiB,eAAe;IAEtC,IAAI,OAAO,KAAK,KAAK,eAAe,OAAO,MAAM,KAAK,cAAc;QAClE,OAAO,KAAK,GAAG;QACf,OAAO,MAAM,GAAG;QAChB,OAAO,KAAK,CAAC,KAAK,GAAG,GAAG,cAAc,EAAE,CAAC;QACzC,OAAO,KAAK,CAAC,MAAM,GAAG,GAAG,eAAe,EAAE,CAAC;IAC7C;IAEA,wBAAwB;IACxB,IAAI,YAAY,CAAC,KAAK,GAAG,GAAG,KAAK,GAAG;IAEpC,2BAA2B;IAC3B,MAAM,WAAW,uBAAuB,OAAO,eAAe,gBAAgB;IAE9E,sFAAsF;IACtF,IAAI,YAAY,SAAS,KAAK,IAAI,eAAe;QAC/C,kEAAkE;QAClE,IAAI,SAAS,CAAC,GAAG,GAAG;YAClB,IAAI,SAAS,GAAG,iLAAa,CAAC,gBAAgB;YAC9C,IAAI,QAAQ,CAAC,GAAG,GAAG,eAAe,SAAS,CAAC;QAC9C;QACA,IAAI,SAAS,CAAC,GAAG,SAAS,MAAM,GAAG,gBAAgB;YACjD,IAAI,SAAS,GAAG,iLAAa,CAAC,gBAAgB;YAC9C,IAAI,QAAQ,CAAC,GAAG,SAAS,CAAC,GAAG,SAAS,MAAM,EAAE,eAAe,iBAAiB,CAAC,SAAS,CAAC,GAAG,SAAS,MAAM;QAC7G;IACF,OAAO;QACL,kCAAkC;QAClC,IAAI,SAAS,GAAG,iLAAa,CAAC,gBAAgB;QAC9C,IAAI,QAAQ,CAAC,GAAG,GAAG,eAAe;IACpC;IAEA,aAAa;IACb,IAAI,SAAS,CAAC,OAAO,SAAS,CAAC,EAAE,SAAS,CAAC,EAAE,SAAS,KAAK,EAAE,SAAS,MAAM;AAC9E","debugId":null}},
    {"offset": {"line": 1438, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/hooks/useCanvasRenderer.hook.ts"],"sourcesContent":["/**\n * useCanvasRenderer Hook\n * Single Responsibility: Canvas rendering logic\n * Separation of Concerns: Isolated canvas operations\n */\n\nimport { useCallback, useMemo } from 'react';\nimport { sequenceCache } from '@/lib/sequence/sequenceCache';\nimport { getAdaptiveDpr } from '@/lib/sequence/sequenceCache';\nimport { useIsMobile } from './use-mobile';\nimport {\n  drawFrameOnCanvas,\n  calculateCanvasDimensions,\n} from '@/services/canvas/canvas-renderer.service';\n\nexport interface UseCanvasRendererOptions {\n  canvasRef: React.RefObject<HTMLCanvasElement | null>;\n  programName: string;\n  currentFrame: number;\n  bootReady: boolean;\n  freezeDraw?: boolean;\n}\n\n/**\n * Hook for managing canvas rendering\n * Encapsulates canvas drawing logic\n */\nexport function useCanvasRenderer(options: UseCanvasRendererOptions) {\n  const { canvasRef, programName, currentFrame, bootReady, freezeDraw } = options;\n  const isMobile = useIsMobile();\n\n  // Calculate DPR based on device\n  const dpr = useMemo(() => {\n    if (typeof window === 'undefined') return 1;\n    return getAdaptiveDpr(isMobile);\n  }, [isMobile]);\n\n  // Draw frame on canvas\n  const drawFrame = useCallback(\n    (targetProgramName: string, frameIndex: number) => {\n      const canvas = canvasRef.current;\n      if (!canvas) return;\n\n      const ctx = canvas.getContext('2d');\n      if (!ctx) return;\n\n      const frame = sequenceCache.getFrame(targetProgramName, frameIndex);\n      if (!frame) return;\n\n      const viewportWidth = window.innerWidth;\n      const viewportHeight = window.innerHeight;\n      const dimensions = calculateCanvasDimensions(viewportWidth, viewportHeight, dpr);\n\n      drawFrameOnCanvas(ctx, frame, dimensions.width, dimensions.height, dpr, isMobile);\n    },\n    [canvasRef, dpr, isMobile]\n  );\n\n  // Auto-draw current frame\n  const drawAuto = useCallback(() => {\n    if (!bootReady || freezeDraw === true) return;\n    drawFrame(programName, currentFrame);\n  }, [bootReady, freezeDraw, drawFrame, programName, currentFrame]);\n\n  return {\n    drawFrame,\n    drawAuto,\n    dpr,\n  };\n}\n\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;AAED;AACA;AAEA;AACA;;;;;;AAiBO,SAAS,kBAAkB,OAAiC;IACjE,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE,YAAY,EAAE,SAAS,EAAE,UAAU,EAAE,GAAG;IACxE,MAAM,WAAW,IAAA,8JAAW;IAE5B,gCAAgC;IAChC,MAAM,MAAM,IAAA,+UAAO,EAAC;QAClB,wCAAmC,OAAO;;;IAE5C,GAAG;QAAC;KAAS;IAEb,uBAAuB;IACvB,MAAM,YAAY,IAAA,mVAAW,EAC3B,CAAC,mBAA2B;QAC1B,MAAM,SAAS,UAAU,OAAO;QAChC,IAAI,CAAC,QAAQ;QAEb,MAAM,MAAM,OAAO,UAAU,CAAC;QAC9B,IAAI,CAAC,KAAK;QAEV,MAAM,QAAQ,yKAAa,CAAC,QAAQ,CAAC,mBAAmB;QACxD,IAAI,CAAC,OAAO;QAEZ,MAAM,gBAAgB,OAAO,UAAU;QACvC,MAAM,iBAAiB,OAAO,WAAW;QACzC,MAAM,aAAa,IAAA,wMAAyB,EAAC,eAAe,gBAAgB;QAE5E,IAAA,gMAAiB,EAAC,KAAK,OAAO,WAAW,KAAK,EAAE,WAAW,MAAM,EAAE,KAAK;IAC1E,GACA;QAAC;QAAW;QAAK;KAAS;IAG5B,0BAA0B;IAC1B,MAAM,WAAW,IAAA,mVAAW,EAAC;QAC3B,IAAI,CAAC,aAAa,eAAe,MAAM;QACvC,UAAU,aAAa;IACzB,GAAG;QAAC;QAAW;QAAY;QAAW;QAAa;KAAa;IAEhE,OAAO;QACL;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 1504, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/utils/animation.utils.ts"],"sourcesContent":["/**\n * Animation Utilities\n * Single Responsibility: Animation helper functions\n * Separation of Concerns: Isolated animation logic\n */\n\n/**\n * Wait for next animation frame\n * Utility for async animation operations\n */\nexport function waitForAnimationFrame(): Promise<void> {\n  return new Promise<void>((resolve) => {\n    requestAnimationFrame(() => resolve());\n  });\n}\n\n/**\n * Hard reset scroll to page top\n * Ensures scroll position is reset even with layout timing issues\n */\nexport async function scrollToPageTop(): Promise<void> {\n  // Immediate attempt\n  window.scrollTo(0, 0);\n  document.documentElement.scrollTop = 0;\n  document.body.scrollTop = 0;\n\n  // Wait for paint/layout to settle\n  await waitForAnimationFrame();\n  await waitForAnimationFrame();\n\n  // Final force\n  window.scrollTo(0, 0);\n  document.documentElement.scrollTop = 0;\n  document.body.scrollTop = 0;\n}\n\n"],"names":[],"mappings":"AAAA;;;;CAIC,GAED;;;CAGC;;;;;;AACM,SAAS;IACd,OAAO,IAAI,QAAc,CAAC;QACxB,sBAAsB,IAAM;IAC9B;AACF;AAMO,eAAe;IACpB,oBAAoB;IACpB,OAAO,QAAQ,CAAC,GAAG;IACnB,SAAS,eAAe,CAAC,SAAS,GAAG;IACrC,SAAS,IAAI,CAAC,SAAS,GAAG;IAE1B,kCAAkC;IAClC,MAAM;IACN,MAAM;IAEN,cAAc;IACd,OAAO,QAAQ,CAAC,GAAG;IACnB,SAAS,eAAe,CAAC,SAAS,GAAG;IACrC,SAAS,IAAI,CAAC,SAAS,GAAG;AAC5B","debugId":null}},
    {"offset": {"line": 1539, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/hooks/useProgramSwitch.hook.ts"],"sourcesContent":["/**\n * useProgramSwitch Hook\n * Single Responsibility: Program switching logic\n * Separation of Concerns: Isolated program navigation state\n */\n\nimport { useCallback, useRef, useState } from 'react';\nimport { programs } from '@/lib/data';\nimport { sequenceCache } from '@/lib/sequence/sequenceCache';\nimport { scrollToPageTop } from '@/utils/animation.utils';\nimport { waitForAnimationFrame } from '@/utils/animation.utils';\nimport type { ProgramDirection } from '@/domain/types/hero.types';\nimport { UI_TIMINGS } from '@/domain/constants/hero.constants';\n\nexport interface UseProgramSwitchOptions {\n  bootReady: boolean;\n  programIndex: number;\n  setProgramIndex: (index: number) => void;\n  forceFrame0Lock: () => void;\n  setFrameImmediate: (frame: number) => void;\n  unlockAfterSwitch: () => void;\n  drawFrame: (programName: string, frameIndex: number) => void;\n  setIndexPulse: React.Dispatch<React.SetStateAction<number>>;\n  freezeDrawRef: React.MutableRefObject<boolean>;\n}\n\nexport interface UseProgramSwitchResult {\n  isSwitching: boolean;\n  switchProgram: (direction: ProgramDirection) => Promise<void>;\n}\n\n/**\n * Hook for managing program switching\n * Encapsulates complex switching logic with race condition protection\n */\nexport function useProgramSwitch(\n  options: UseProgramSwitchOptions\n): UseProgramSwitchResult {\n  const {\n    bootReady,\n    programIndex,\n    setProgramIndex,\n    forceFrame0Lock,\n    setFrameImmediate,\n    unlockAfterSwitch,\n    drawFrame,\n    setIndexPulse,\n    freezeDrawRef,\n  } = options;\n\n  const [isSwitching, setIsSwitching] = useState(false);\n  const switchTokenRef = useRef(0);\n\n  const switchProgram = useCallback(\n    async (direction: ProgramDirection) => {\n      if (!bootReady || isSwitching) return;\n\n      const token = ++switchTokenRef.current;\n      const nextIndex =\n        (programIndex + direction + programs.length) % programs.length;\n      const nextProgram = programs[nextIndex];\n\n      setIsSwitching(true);\n      freezeDrawRef.current = true;\n\n      // 1) Lock frame 0 immediately\n      forceFrame0Lock();\n      setFrameImmediate(0);\n\n      // 2) Ensure next frame 0 exists\n      const ensure0 = sequenceCache\n        .ensureFrame(nextProgram.name, 0)\n        .catch(() => null);\n\n      // 3) Hard reset to page top\n      await scrollToPageTop();\n\n      if (token !== switchTokenRef.current) return;\n\n      // 4) Commit the new program\n      setProgramIndex(nextIndex);\n\n      // 5) Wait for React commit\n      await waitForAnimationFrame();\n      if (token !== switchTokenRef.current) return;\n\n      // 6) Wait for frame 0\n      await ensure0;\n\n      // 7) Draw frame 0 immediately\n      drawFrame(nextProgram.name, 0);\n\n      // 8) Trigger index pulse animation\n      setIndexPulse((v) => v + 1);\n\n      // 9) Unlock after frame 0 is drawn\n      freezeDrawRef.current = false;\n      unlockAfterSwitch();\n\n      // 10) Clear switching state after fade\n      window.setTimeout(() => {\n        if (token !== switchTokenRef.current) return;\n        setIsSwitching(false);\n      }, UI_TIMINGS.SWITCH_FADE_MS);\n    },\n    [\n      bootReady,\n      isSwitching,\n      programIndex,\n      setProgramIndex,\n      forceFrame0Lock,\n      setFrameImmediate,\n      unlockAfterSwitch,\n      drawFrame,\n      setIndexPulse,\n    ]\n  );\n\n  return {\n    isSwitching,\n    switchProgram,\n  };\n}\n\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;AAED;AACA;AACA;AACA;AAGA;;;;;;;AAuBO,SAAS,iBACd,OAAgC;IAEhC,MAAM,EACJ,SAAS,EACT,YAAY,EACZ,eAAe,EACf,eAAe,EACf,iBAAiB,EACjB,iBAAiB,EACjB,SAAS,EACT,aAAa,EACb,aAAa,EACd,GAAG;IAEJ,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gVAAQ,EAAC;IAC/C,MAAM,iBAAiB,IAAA,8UAAM,EAAC;IAE9B,MAAM,gBAAgB,IAAA,mVAAW,EAC/B,OAAO;QACL,IAAI,CAAC,aAAa,aAAa;QAE/B,MAAM,QAAQ,EAAE,eAAe,OAAO;QACtC,MAAM,YACJ,CAAC,eAAe,YAAY,+JAAQ,CAAC,MAAM,IAAI,+JAAQ,CAAC,MAAM;QAChE,MAAM,cAAc,+JAAQ,CAAC,UAAU;QAEvC,eAAe;QACf,cAAc,OAAO,GAAG;QAExB,8BAA8B;QAC9B;QACA,kBAAkB;QAElB,gCAAgC;QAChC,MAAM,UAAU,yKAAa,CAC1B,WAAW,CAAC,YAAY,IAAI,EAAE,GAC9B,KAAK,CAAC,IAAM;QAEf,4BAA4B;QAC5B,MAAM,IAAA,sKAAe;QAErB,IAAI,UAAU,eAAe,OAAO,EAAE;QAEtC,4BAA4B;QAC5B,gBAAgB;QAEhB,2BAA2B;QAC3B,MAAM,IAAA,4KAAqB;QAC3B,IAAI,UAAU,eAAe,OAAO,EAAE;QAEtC,sBAAsB;QACtB,MAAM;QAEN,8BAA8B;QAC9B,UAAU,YAAY,IAAI,EAAE;QAE5B,mCAAmC;QACnC,cAAc,CAAC,IAAM,IAAI;QAEzB,mCAAmC;QACnC,cAAc,OAAO,GAAG;QACxB;QAEA,uCAAuC;QACvC,OAAO,UAAU,CAAC;YAChB,IAAI,UAAU,eAAe,OAAO,EAAE;YACtC,eAAe;QACjB,GAAG,8KAAU,CAAC,cAAc;IAC9B,GACA;QACE;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAGH,OAAO;QACL;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 1616, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/lib/analytics.ts"],"sourcesContent":["/**\n * Google Analytics utility functions\n * Provides type-safe event tracking and Web Vitals reporting\n */\n\ndeclare global {\n  interface Window {\n    gtag?: (\n      command: 'config' | 'event' | 'js' | 'set',\n      targetId: string | Date,\n      config?: Record<string, unknown>\n    ) => void;\n  }\n}\n\n/**\n * Track custom events in Google Analytics\n */\nexport function trackEvent(\n  action: string,\n  category: string,\n  label?: string,\n  value?: number\n): void {\n  if (typeof window === 'undefined' || !window.gtag) return;\n\n  window.gtag('event', action, {\n    event_category: category,\n    event_label: label,\n    value: value,\n  });\n}\n\n/**\n * Track page views\n */\nexport function trackPageView(url: string): void {\n  if (typeof window === 'undefined' || !window.gtag) return;\n\n  window.gtag('config', process.env.NEXT_PUBLIC_GA_ID || '', {\n    page_path: url,\n  });\n}\n\n/**\n * Track program switch events\n */\nexport function trackProgramSwitch(programName: string): void {\n  trackEvent('program_switch', 'navigation', programName);\n}\n\n/**\n * Track button clicks\n */\nexport function trackButtonClick(buttonLabel: string, location: string): void {\n  trackEvent('button_click', 'engagement', `${location}_${buttonLabel}`);\n}\n\n/**\n * Track scroll depth\n */\nexport function trackScrollDepth(depth: number): void {\n  trackEvent('scroll_depth', 'engagement', undefined, depth);\n}\n\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;;;;;AAeM,SAAS,WACd,MAAc,EACd,QAAgB,EAChB,KAAc,EACd,KAAc;IAEd,wCAAmD;;;AAOrD;AAKO,SAAS,cAAc,GAAW;IACvC,wCAAmD;;;AAKrD;AAKO,SAAS,mBAAmB,WAAmB;IACpD,WAAW,kBAAkB,cAAc;AAC7C;AAKO,SAAS,iBAAiB,WAAmB,EAAE,QAAgB;IACpE,WAAW,gBAAgB,cAAc,GAAG,SAAS,CAAC,EAAE,aAAa;AACvE;AAKO,SAAS,iBAAiB,KAAa;IAC5C,WAAW,gBAAgB,cAAc,WAAW;AACtD","debugId":null}},
    {"offset": {"line": 1654, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/domain/models/hero-colors.model.ts"],"sourcesContent":["/**\n * Hero Colors Domain Model\n * Single Responsibility: Hero color mapping and retrieval\n */\n\nimport type { HeroName, HeroColors } from '../types/hero.types';\n\n/**\n * Color variants for each hero section\n * Based on the 5 brand colors\n */\nconst HERO_COLORS_MAP: Record<HeroName, HeroColors> = {\n  CLIMATE: {\n    primary: '#10B2D7', // Pacific Cyan\n    accent: '#175F8F',   // Crayola\n    text: '#10B2D7',    // Pacific Cyan\n  },\n  FOOD: {\n    primary: '#BFD380', // Mindaro\n    accent: '#9DEE00',  // Spring Bud\n    text: '#BFD380',    // Mindaro\n  },\n  SOCIAL: {\n    primary: '#9DEE00', // Spring Bud\n    accent: '#10B2D7',  // Pacific Cyan\n    text: '#9DEE00',    // Spring Bud\n  },\n} as const;\n\n/**\n * Get hero colors by name\n * Factory pattern: Centralized color retrieval\n */\nexport function getHeroColors(heroName: HeroName): HeroColors {\n  return HERO_COLORS_MAP[heroName] || HERO_COLORS_MAP.CLIMATE;\n}\n\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAID;;;CAGC,GACD,MAAM,kBAAgD;IACpD,SAAS;QACP,SAAS;QACT,QAAQ;QACR,MAAM;IACR;IACA,MAAM;QACJ,SAAS;QACT,QAAQ;QACR,MAAM;IACR;IACA,QAAQ;QACN,SAAS;QACT,QAAQ;QACR,MAAM;IACR;AACF;AAMO,SAAS,cAAc,QAAkB;IAC9C,OAAO,eAAe,CAAC,SAAS,IAAI,gBAAgB,OAAO;AAC7D","debugId":null}},
    {"offset": {"line": 1688, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/packages/utils/routes.ts"],"sourcesContent":["/**\n * Route Helpers - URL generation for microfrontends\n * Source of truth for routing paths\n * \n * Supports two development modes:\n * - Gateway mode: Single URL (3024), relative links\n * - Standalone mode: Separate ports (3000/3001/3002), absolute links with ports\n */\n\nimport type { ProjectId } from '@qia/types';\n\n/**\n * Development mode: 'gateway' | 'standalone' | undefined (auto-detect)\n * Set via NEXT_PUBLIC_DEV_MODE env var\n */\ntype DevMode = 'gateway' | 'standalone' | undefined;\n\n/**\n * Get the origin for a specific app\n * Used in standalone mode to generate absolute URLs with correct ports\n */\nfunction getAppOrigin(appName: 'shell' | 'details' | 'checkout'): string {\n  const envVar = {\n    shell: process.env.NEXT_PUBLIC_SHELL_ORIGIN,\n    details: process.env.NEXT_PUBLIC_DETAILS_ORIGIN,\n    checkout: process.env.NEXT_PUBLIC_CHECKOUT_ORIGIN,\n  }[appName];\n\n  // Default ports if env var not set\n  const defaultPorts = {\n    shell: '3000',\n    details: '3001',\n    checkout: '3002',\n  }[appName];\n\n  if (envVar) {\n    return envVar;\n  }\n\n  // Fallback to default localhost with default port\n  if (typeof window !== 'undefined') {\n    return `${window.location.protocol}//${window.location.hostname}:${defaultPorts}`;\n  }\n\n  return `http://localhost:${defaultPorts}`;\n}\n\n/**\n * Get the base URL for cross-app navigation\n * Determines whether to use relative paths (gateway/prod) or absolute URLs (standalone)\n */\nfunction getBaseUrl(targetApp: 'details' | 'checkout'): string {\n  // Client-side detection\n  if (typeof window !== 'undefined') {\n    const devMode = (process.env.NEXT_PUBLIC_DEV_MODE as DevMode) || undefined;\n    const currentPort = window.location.port;\n\n    // Explicit standalone mode: use absolute URLs with app-specific ports\n    if (devMode === 'standalone') {\n      return getAppOrigin(targetApp);\n    }\n\n    // Explicit gateway mode: use relative URLs (proxy handles routing)\n    if (devMode === 'gateway') {\n      return '';\n    }\n\n    // Auto-detect mode based on current port\n    // If we're on the gateway port (3024), use relative URLs\n    if (currentPort === '3024') {\n      return '';\n    }\n    \n    // If we're on a direct app port (3000, 3001, 3002), use standalone mode\n    if (['3000', '3001', '3002'].includes(currentPort)) {\n      // In standalone mode, we need to change port when navigating to another app\n      // Shell (3000) → Details (3001) or Checkout (3002)\n      // Details (3001) → Checkout (3002) or Shell (3000)\n      // Checkout (3002) → Details (3001) or Shell (3000)\n      return getAppOrigin(targetApp);\n    }\n    \n    // Unknown port or production: use relative URLs\n    return '';\n  }\n  \n  // Server-side: check env vars\n  const devMode = (process.env.NEXT_PUBLIC_DEV_MODE as DevMode) || undefined;\n  const nodeEnv = process.env.NODE_ENV;\n\n  // Production: always use relative URLs\n  if (nodeEnv === 'production') {\n    return '';\n  }\n\n  // In standalone mode server-side, we still generate absolute URLs\n  // (Next.js Link will handle them correctly)\n  if (devMode === 'standalone') {\n    return getAppOrigin(targetApp);\n  }\n\n  // Gateway mode or auto: use relative URLs (client will handle routing)\n  return '';\n}\n\n/**\n * Get details page URL for a project\n * @param projectId - Project ID (slug)\n * @returns URL path to details page\n * \n * In gateway mode: `/projects/${projectId}` (relative)\n * In standalone mode: `http://localhost:3001/projects/${projectId}` (absolute with port)\n * In production: `/projects/${projectId}` (relative)\n */\nexport function getDetailsHref(projectId: ProjectId): string {\n  const baseUrl = getBaseUrl('details');\n  return `${baseUrl}/projects/${projectId}`;\n}\n\n/**\n * Get support/checkout page URL for a project\n * @param projectId - Project ID (slug)\n * @returns URL path to support page\n * \n * In gateway mode: `/support/${projectId}` (relative)\n * In standalone mode: `http://localhost:3002/support/${projectId}` (absolute with port)\n * In production: `/support/${projectId}` (relative)\n */\nexport function getSupportHref(projectId: ProjectId): string {\n  const baseUrl = getBaseUrl('checkout');\n  return `${baseUrl}/support/${projectId}`;\n}\n\n/**\n * Get success page URL\n * @returns URL path to success page\n * Note: Success page is in checkout app, so in standalone mode it needs the checkout origin\n */\nexport function getSuccessHref(): string {\n  const baseUrl = getBaseUrl('checkout');\n  return `${baseUrl}/support/success`;\n}\n\n/**\n * Get cancel page URL\n * @returns URL path to cancel page\n * Note: Cancel page is in checkout app, so in standalone mode it needs the checkout origin\n */\nexport function getCancelHref(): string {\n  const baseUrl = getBaseUrl('checkout');\n  return `${baseUrl}/support/cancel`;\n}\n\n/**\n * Get the current development mode\n * @returns 'gateway' | 'standalone' | 'auto' | 'production'\n */\nexport function getDevMode(): 'gateway' | 'standalone' | 'auto' | 'production' {\n  if (process.env.NODE_ENV === 'production') {\n    return 'production';\n  }\n\n  const devMode = process.env.NEXT_PUBLIC_DEV_MODE as DevMode;\n  if (devMode === 'gateway' || devMode === 'standalone') {\n    return devMode;\n  }\n\n  return 'auto';\n}\n\n"],"names":[],"mappings":"AAAA;;;;;;;CAOC;;;;;;;;;;;;AAUD;;;CAGC,GACD,SAAS,aAAa,OAAyC;IAC7D,MAAM,SAAS;QACb,OAAO,QAAQ,GAAG,CAAC,wBAAwB;QAC3C,SAAS,QAAQ,GAAG,CAAC,0BAA0B;QAC/C,UAAU,QAAQ,GAAG,CAAC,2BAA2B;IACnD,CAAC,CAAC,QAAQ;IAEV,mCAAmC;IACnC,MAAM,eAAe;QACnB,OAAO;QACP,SAAS;QACT,UAAU;IACZ,CAAC,CAAC,QAAQ;IAEV,IAAI,QAAQ;QACV,OAAO;IACT;IAEA,kDAAkD;IAClD;;IAIA,OAAO,CAAC,iBAAiB,EAAE,cAAc;AAC3C;AAEA;;;CAGC,GACD,SAAS,WAAW,SAAiC;IACnD,wBAAwB;IACxB;;IAiCA,8BAA8B;IAC9B,MAAM,UAAU,AAAC,QAAQ,GAAG,CAAC,oBAAoB,IAAgB;IACjE,MAAM;IAEN,uCAAuC;IACvC;;IAIA,kEAAkE;IAClE,4CAA4C;IAC5C,IAAI,YAAY,cAAc;QAC5B,OAAO,aAAa;IACtB;IAEA,uEAAuE;IACvE,OAAO;AACT;AAWO,SAAS,eAAe,SAAoB;IACjD,MAAM,UAAU,WAAW;IAC3B,OAAO,GAAG,QAAQ,UAAU,EAAE,WAAW;AAC3C;AAWO,SAAS,eAAe,SAAoB;IACjD,MAAM,UAAU,WAAW;IAC3B,OAAO,GAAG,QAAQ,SAAS,EAAE,WAAW;AAC1C;AAOO,SAAS;IACd,MAAM,UAAU,WAAW;IAC3B,OAAO,GAAG,QAAQ,gBAAgB,CAAC;AACrC;AAOO,SAAS;IACd,MAAM,UAAU,WAAW;IAC3B,OAAO,GAAG,QAAQ,eAAe,CAAC;AACpC;AAMO,SAAS;IACd;;IAIA,MAAM,UAAU,QAAQ,GAAG,CAAC,oBAAoB;IAChD,IAAI,YAAY,aAAa,YAAY,cAAc;QACrD,OAAO;IACT;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 1780, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/packages/utils/eventBus.ts"],"sourcesContent":["/**\n * Event Bus - Communication between microfrontends\n * Optional enhancement for UX, not required for core functionality\n * Source of truth remains the URL (slug in path)\n */\n\nimport type { ProjectId } from '@qia/types';\n\n/**\n * Event name for project change notifications\n */\nexport const PROJECT_CHANGED_EVENT = 'mfe:activeProjectChanged';\n\n/**\n * Event payload for project change\n */\nexport interface ProjectChangedEventDetail {\n  projectId: ProjectId;\n  previousProjectId?: ProjectId;\n  timestamp: number;\n}\n\n/**\n * Emit project changed event\n * @param projectId - New active project ID\n * @param previousProjectId - Previous project ID (optional)\n */\nexport function emitProjectChanged(projectId: ProjectId, previousProjectId?: ProjectId): void {\n  const detail: ProjectChangedEventDetail = {\n    projectId,\n    previousProjectId,\n    timestamp: Date.now(),\n  };\n\n  // CustomEvent for same-window communication\n  const event = new CustomEvent(PROJECT_CHANGED_EVENT, { detail });\n  window.dispatchEvent(event);\n\n  // BroadcastChannel for cross-tab communication (fallback)\n  try {\n    const channel = new BroadcastChannel('mfe-project-channel');\n    channel.postMessage({ type: PROJECT_CHANGED_EVENT, detail });\n    channel.close();\n  } catch (error) {\n    // BroadcastChannel not supported, silently fail\n    console.debug('BroadcastChannel not available:', error);\n  }\n}\n\n/**\n * Listen for project changed events\n * @param callback - Callback function to handle project changes\n * @returns Cleanup function to remove event listener\n */\nexport function onProjectChanged(\n  callback: (detail: ProjectChangedEventDetail) => void\n): () => void {\n  const handler = (event: Event) => {\n    const customEvent = event as CustomEvent<ProjectChangedEventDetail>;\n    if (customEvent.detail) {\n      callback(customEvent.detail);\n    }\n  };\n\n  window.addEventListener(PROJECT_CHANGED_EVENT, handler);\n\n  // Also listen to BroadcastChannel\n  let channel: BroadcastChannel | null = null;\n  try {\n    channel = new BroadcastChannel('mfe-project-channel');\n    channel.onmessage = (event) => {\n      if (event.data?.type === PROJECT_CHANGED_EVENT && event.data?.detail) {\n        callback(event.data.detail);\n      }\n    };\n  } catch (error) {\n    console.debug('BroadcastChannel not available:', error);\n  }\n\n  // Return cleanup function\n  return () => {\n    window.removeEventListener(PROJECT_CHANGED_EVENT, handler);\n    if (channel) {\n      channel.close();\n    }\n  };\n}\n\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;;;;AAOM,MAAM,wBAAwB;AAgB9B,SAAS,mBAAmB,SAAoB,EAAE,iBAA6B;IACpF,MAAM,SAAoC;QACxC;QACA;QACA,WAAW,KAAK,GAAG;IACrB;IAEA,4CAA4C;IAC5C,MAAM,QAAQ,IAAI,YAAY,uBAAuB;QAAE;IAAO;IAC9D,OAAO,aAAa,CAAC;IAErB,0DAA0D;IAC1D,IAAI;QACF,MAAM,UAAU,IAAI,iBAAiB;QACrC,QAAQ,WAAW,CAAC;YAAE,MAAM;YAAuB;QAAO;QAC1D,QAAQ,KAAK;IACf,EAAE,OAAO,OAAO;QACd,gDAAgD;QAChD,QAAQ,KAAK,CAAC,mCAAmC;IACnD;AACF;AAOO,SAAS,iBACd,QAAqD;IAErD,MAAM,UAAU,CAAC;QACf,MAAM,cAAc;QACpB,IAAI,YAAY,MAAM,EAAE;YACtB,SAAS,YAAY,MAAM;QAC7B;IACF;IAEA,OAAO,gBAAgB,CAAC,uBAAuB;IAE/C,kCAAkC;IAClC,IAAI,UAAmC;IACvC,IAAI;QACF,UAAU,IAAI,iBAAiB;QAC/B,QAAQ,SAAS,GAAG,CAAC;YACnB,IAAI,MAAM,IAAI,EAAE,SAAS,yBAAyB,MAAM,IAAI,EAAE,QAAQ;gBACpE,SAAS,MAAM,IAAI,CAAC,MAAM;YAC5B;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mCAAmC;IACnD;IAEA,0BAA0B;IAC1B,OAAO;QACL,OAAO,mBAAmB,CAAC,uBAAuB;QAClD,IAAI,SAAS;YACX,QAAQ,KAAK;QACf;IACF;AACF","debugId":null}},
    {"offset": {"line": 1849, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/components/ui/progress.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.memo(\n  React.forwardRef<\n    React.ElementRef<typeof ProgressPrimitive.Root>,\n    React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n  >(({ className, value, ...props }, ref) => (\n    <ProgressPrimitive.Root\n      ref={ref}\n      className={cn(\n        \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n        className\n      )}\n      {...props}\n    >\n      <ProgressPrimitive.Indicator\n        className=\"h-full w-full flex-1 bg-primary transition-all\"\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n      />\n    </ProgressPrimitive.Root>\n  ))\n)\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AAAA;AALA;;;;;AAOA,MAAM,yBAAW,4UAAU,eACzB,kVAAgB,CAGd,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,6WAAC,mYAAsB;QACrB,KAAK;QACL,WAAW,IAAA,oIAAE,EACX,iEACA;QAED,GAAG,KAAK;kBAET,cAAA,6WAAC,wYAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAKlE,SAAS,WAAW,GAAG,mYAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1888, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/components/loading-screen.tsx"],"sourcesContent":["\"use client\";\n\nimport { memo, useEffect, useRef, useState, useMemo } from \"react\";\nimport Image from \"next/image\";\nimport { Progress } from \"@/components/ui/progress\";\n\ninterface LoadingScreenProps {\n  progress: number; // 0..100\n}\n\n/**\n * Smooth display progress so it doesn't jump.\n * The real progress is controlled by preloadAll().\n * Memoized for performance - only re-renders when progress changes\n */\nexport const LoadingScreen = memo(function LoadingScreen({ progress }: LoadingScreenProps) {\n  const [display, setDisplay] = useState(0);\n  const rafRef = useRef<number | null>(null);\n\n  // Memoize rounded display value to prevent unnecessary recalculations\n  const roundedDisplay = useMemo(() => Math.round(display), [display]);\n\n  useEffect(() => {\n    const target = Math.max(0, Math.min(100, progress));\n\n    const tick = () => {\n      setDisplay((prev) => {\n        const next = prev + (target - prev) * 0.12;\n        return Math.abs(target - next) < 0.2 ? target : next;\n      });\n\n      rafRef.current = requestAnimationFrame(tick);\n    };\n\n    rafRef.current = requestAnimationFrame(tick);\n\n    return () => {\n      if (rafRef.current) cancelAnimationFrame(rafRef.current);\n    };\n  }, [progress]);\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex flex-col items-center justify-center bg-background\">\n      <div className=\"flex flex-col items-center gap-4 text-center\">\n        {/* Logo instead of QIA text - using same approach as Logo component */}\n        <div className=\"relative h-32 w-32 flex-shrink-0 overflow-hidden flex items-center justify-center\">\n          <div\n            className=\"relative w-full h-full\"\n            style={{\n              // Same zoom approach as Logo component to hide borders (bottom and right)\n              transform: 'scale(1.25)',\n              transformOrigin: 'center center',\n            }}\n          >\n            <Image\n              src=\"/Whisk_796ac715016ef35a10040fe533c014b2dr_preview_rev_1.svg\"\n              alt=\"Quick Impact Agency Logo\"\n              fill\n              className=\"object-contain\"\n              priority\n              unoptimized\n            />\n          </div>\n        </div>\n\n        <div className=\"w-64\">\n          <Progress value={display} className=\"h-2\" />\n          <p className=\"mt-2 text-sm font-medium text-foreground\">Loading {roundedDisplay}%</p>\n        </div>\n      </div>\n    </div>\n  );\n});"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAeO,MAAM,8BAAgB,IAAA,4UAAI,EAAC,SAAS,cAAc,EAAE,QAAQ,EAAsB;IACvF,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gVAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,8UAAM,EAAgB;IAErC,sEAAsE;IACtE,MAAM,iBAAiB,IAAA,+UAAO,EAAC,IAAM,KAAK,KAAK,CAAC,UAAU;QAAC;KAAQ;IAEnE,IAAA,iVAAS,EAAC;QACR,MAAM,SAAS,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK;QAEzC,MAAM,OAAO;YACX,WAAW,CAAC;gBACV,MAAM,OAAO,OAAO,CAAC,SAAS,IAAI,IAAI;gBACtC,OAAO,KAAK,GAAG,CAAC,SAAS,QAAQ,MAAM,SAAS;YAClD;YAEA,OAAO,OAAO,GAAG,sBAAsB;QACzC;QAEA,OAAO,OAAO,GAAG,sBAAsB;QAEvC,OAAO;YACL,IAAI,OAAO,OAAO,EAAE,qBAAqB,OAAO,OAAO;QACzD;IACF,GAAG;QAAC;KAAS;IAEb,qBACE,6WAAC;QAAI,WAAU;kBACb,cAAA,6WAAC;YAAI,WAAU;;8BAEb,6WAAC;oBAAI,WAAU;8BACb,cAAA,6WAAC;wBACC,WAAU;wBACV,OAAO;4BACL,0EAA0E;4BAC1E,WAAW;4BACX,iBAAiB;wBACnB;kCAEA,cAAA,6WAAC,uQAAK;4BACJ,KAAI;4BACJ,KAAI;4BACJ,IAAI;4BACJ,WAAU;4BACV,QAAQ;4BACR,WAAW;;;;;;;;;;;;;;;;8BAKjB,6WAAC;oBAAI,WAAU;;sCACb,6WAAC,iKAAQ;4BAAC,OAAO;4BAAS,WAAU;;;;;;sCACpC,6WAAC;4BAAE,WAAU;;gCAA2C;gCAAS;gCAAe;;;;;;;;;;;;;;;;;;;;;;;;AAK1F","debugId":null}},
    {"offset": {"line": 2005, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/components/hero-section/hero-canvas.tsx"],"sourcesContent":["\"use client\";\n\nimport { memo } from 'react';\nimport { CANVAS_CONFIG } from '@/domain/constants/hero.constants';\n\ninterface HeroCanvasProps {\n  canvasRef: React.RefObject<HTMLCanvasElement | null>;\n}\n\n/**\n * Hero Canvas Component\n * Single Responsibility: Canvas rendering container\n * Memoized for performance\n */\nexport const HeroCanvas = memo(function HeroCanvas({ canvasRef }: HeroCanvasProps) {\n  return (\n    <>\n      <canvas\n        ref={canvasRef}\n        className=\"pointer-events-none absolute inset-0 h-full w-full\"\n        style={{\n          willChange: 'contents',\n          imageRendering: 'auto',\n          backgroundColor: CANVAS_CONFIG.BACKGROUND_COLOR,\n        }}\n      />\n      <div className=\"pointer-events-none absolute inset-0 bg-black/30\" />\n    </>\n  );\n});\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAcO,MAAM,2BAAa,IAAA,4UAAI,EAAC,SAAS,WAAW,EAAE,SAAS,EAAmB;IAC/E,qBACE;;0BACE,6WAAC;gBACC,KAAK;gBACL,WAAU;gBACV,OAAO;oBACL,YAAY;oBACZ,gBAAgB;oBAChB,iBAAiB,iLAAa,CAAC,gBAAgB;gBACjD;;;;;;0BAEF,6WAAC;gBAAI,WAAU;;;;;;;;AAGrB","debugId":null}},
    {"offset": {"line": 2046, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/components/hero-section/hero-content.tsx"],"sourcesContent":["\"use client\";\n\nimport { memo } from 'react';\nimport Link from 'next/link';\nimport { Button } from '@qia/ui';\nimport { cn } from '@/lib/utils';\nimport { trackButtonClick } from '@/lib/analytics';\nimport { getDetailsHref, getSupportHref } from '@qia/utils/routes';\nimport type { Program } from '@/lib/data';\nimport type { ProjectId } from '@qia/types';\nimport type { HeroColors } from '@/domain/types/hero.types';\n\ninterface HeroContentProps {\n  program: Program;\n  projectId: ProjectId;\n  heroColors: HeroColors;\n  isSwitching: boolean;\n}\n\n/**\n * Hero Content Component\n * Single Responsibility: Display hero program content\n * Memoized for performance\n */\nexport const HeroContent = memo(function HeroContent({\n  program,\n  projectId,\n  heroColors,\n  isSwitching,\n}: HeroContentProps) {\n  return (\n    <div className=\"w-full max-w-xl\">\n      <div\n        className={cn(\n          'space-y-4 transition-opacity duration-200',\n          isSwitching ? 'opacity-0' : 'opacity-100'\n        )}\n      >\n        {/* Mobile: Text above, Desktop: Text on left */}\n        <div className=\"md:hidden space-y-4 mb-4\">\n          <h1 className=\"font-headline text-5xl font-black uppercase tracking-tighter\">\n            {program.name}\n          </h1>\n          <p className=\"font-body text-base font-light tracking-widest\">\n            {program.subtitle}\n          </p>\n          <p className=\"font-body text-sm\">\n            {program.description}\n          </p>\n        </div>\n\n        {/* Desktop: Text visible */}\n        <div className=\"hidden md:block space-y-4\">\n          <h1 className=\"font-headline text-5xl font-black uppercase tracking-tighter sm:text-6xl md:text-9xl\">\n            {program.name}\n          </h1>\n          <p className=\"font-body text-base font-light tracking-widest sm:text-lg md:text-2xl\">\n            {program.subtitle}\n          </p>\n          <p className=\"max-w-md font-body text-sm sm:text-base md:text-lg\">\n            {program.description}\n          </p>\n        </div>\n\n        {/* Mobile: Buttons below canvas, Desktop: Buttons inline */}\n        <div className=\"flex flex-col gap-3 md:flex-row md:gap-4 md:mt-0 mt-4\">\n          <Button\n            asChild\n            size=\"lg\"\n            variant=\"outline\"\n            className=\"rounded-full border-2 bg-transparent/10 backdrop-blur-sm text-white transition-all px-8 py-3\"\n            style={{\n              borderColor: `${heroColors.primary}80`,\n              color: 'white',\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.backgroundColor = heroColors.primary;\n              e.currentTarget.style.color = '#022D2B';\n              e.currentTarget.style.borderColor = heroColors.primary;\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.backgroundColor = 'transparent';\n              e.currentTarget.style.color = 'white';\n              e.currentTarget.style.borderColor = `${heroColors.primary}80`;\n            }}\n            onClick={() => trackButtonClick(program.ctas.secondary, 'hero')}\n          >\n            <Link href={getDetailsHref(projectId)}>\n              {program.ctas.secondary}\n            </Link>\n          </Button>\n\n          <Button\n            asChild\n            size=\"lg\"\n            className=\"rounded-full text-white transition-all px-8 py-3\"\n            style={{\n              backgroundColor: heroColors.accent,\n              color: '#022D2B',\n              boxShadow: `0 10px 15px -3px ${heroColors.accent}40`,\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.opacity = '0.9';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.opacity = '1';\n            }}\n            onClick={() => trackButtonClick(program.ctas.primary, 'hero')}\n          >\n            <Link href={getSupportHref(projectId)}>\n              {program.ctas.primary}\n            </Link>\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n});\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAPA;;;;;;;;AAwBO,MAAM,4BAAc,IAAA,4UAAI,EAAC,SAAS,YAAY,EACnD,OAAO,EACP,SAAS,EACT,UAAU,EACV,WAAW,EACM;IACjB,qBACE,6WAAC;QAAI,WAAU;kBACb,cAAA,6WAAC;YACC,WAAW,IAAA,oIAAE,EACX,6CACA,cAAc,cAAc;;8BAI9B,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;4BAAG,WAAU;sCACX,QAAQ,IAAI;;;;;;sCAEf,6WAAC;4BAAE,WAAU;sCACV,QAAQ,QAAQ;;;;;;sCAEnB,6WAAC;4BAAE,WAAU;sCACV,QAAQ,WAAW;;;;;;;;;;;;8BAKxB,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;4BAAG,WAAU;sCACX,QAAQ,IAAI;;;;;;sCAEf,6WAAC;4BAAE,WAAU;sCACV,QAAQ,QAAQ;;;;;;sCAEnB,6WAAC;4BAAE,WAAU;sCACV,QAAQ,WAAW;;;;;;;;;;;;8BAKxB,6WAAC;oBAAI,WAAU;;sCACb,6WAAC,0IAAM;4BACL,OAAO;4BACP,MAAK;4BACL,SAAQ;4BACR,WAAU;4BACV,OAAO;gCACL,aAAa,GAAG,WAAW,OAAO,CAAC,EAAE,CAAC;gCACtC,OAAO;4BACT;4BACA,cAAc,CAAC;gCACb,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG,WAAW,OAAO;gCAC1D,EAAE,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG;gCAC9B,EAAE,aAAa,CAAC,KAAK,CAAC,WAAW,GAAG,WAAW,OAAO;4BACxD;4BACA,cAAc,CAAC;gCACb,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG;gCACxC,EAAE,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG;gCAC9B,EAAE,aAAa,CAAC,KAAK,CAAC,WAAW,GAAG,GAAG,WAAW,OAAO,CAAC,EAAE,CAAC;4BAC/D;4BACA,SAAS,IAAM,IAAA,4JAAgB,EAAC,QAAQ,IAAI,CAAC,SAAS,EAAE;sCAExD,cAAA,6WAAC,sSAAI;gCAAC,MAAM,IAAA,6IAAc,EAAC;0CACxB,QAAQ,IAAI,CAAC,SAAS;;;;;;;;;;;sCAI3B,6WAAC,0IAAM;4BACL,OAAO;4BACP,MAAK;4BACL,WAAU;4BACV,OAAO;gCACL,iBAAiB,WAAW,MAAM;gCAClC,OAAO;gCACP,WAAW,CAAC,iBAAiB,EAAE,WAAW,MAAM,CAAC,EAAE,CAAC;4BACtD;4BACA,cAAc,CAAC;gCACb,EAAE,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG;4BAClC;4BACA,cAAc,CAAC;gCACb,EAAE,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG;4BAClC;4BACA,SAAS,IAAM,IAAA,4JAAgB,EAAC,QAAQ,IAAI,CAAC,OAAO,EAAE;sCAEtD,cAAA,6WAAC,sSAAI;gCAAC,MAAM,IAAA,6IAAc,EAAC;0CACxB,QAAQ,IAAI,CAAC,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOnC","debugId":null}},
    {"offset": {"line": 2226, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/components/hero-section/hero-navigation.tsx"],"sourcesContent":["\"use client\";\n\nimport { memo } from 'react';\nimport { ChevronUp, ChevronDown, ChevronLeft, ChevronRight } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport type { ProgramDirection } from '@/domain/types/hero.types';\n\ninterface HeroNavigationProps {\n  programIndex: number;\n  isSwitching: boolean;\n  indexPulse: number;\n  onSwitch: (direction: ProgramDirection) => void;\n}\n\n/**\n * Desktop Navigation Component\n * Single Responsibility: Desktop program navigation\n */\nconst DesktopNavigation = memo(function DesktopNavigation({\n  programIndex,\n  isSwitching,\n  onSwitch,\n}: Omit<HeroNavigationProps, 'indexPulse'>) {\n  return (\n    <div className=\"absolute right-4 top-1/2 hidden -translate-y-1/2 items-center gap-4 md:flex md:right-10\">\n      <div className=\"relative text-center\">\n        <h2 className=\"font-headline text-6xl font-black sm:text-7xl md:text-9xl\">\n          {(programIndex + 1).toString().padStart(2, '0')}\n        </h2>\n      </div>\n\n      <div className=\"flex flex-col items-center gap-2\">\n        <button\n          onClick={() => void onSwitch(-1)}\n          disabled={isSwitching}\n          className={cn(isSwitching && 'opacity-60')}\n          aria-label=\"Previous Program\"\n        >\n          <ChevronUp className=\"h-6 w-6 transition-transform hover:scale-125\" />\n          <span className=\"text-xs font-bold uppercase\">Prev</span>\n        </button>\n\n        <div className=\"h-16 w-px bg-white/50\" />\n\n        <button\n          onClick={() => void onSwitch(1)}\n          disabled={isSwitching}\n          className={cn(isSwitching && 'opacity-60')}\n          aria-label=\"Next Program\"\n        >\n          <span className=\"text-xs font-bold uppercase\">Next</span>\n          <ChevronDown className=\"h-6 w-6 transition-transform hover:scale-125\" />\n        </button>\n      </div>\n    </div>\n  );\n});\n\n/**\n * Mobile Navigation Component\n * Single Responsibility: Mobile program navigation\n */\nconst MobileNavigation = memo(function MobileNavigation({\n  programIndex,\n  isSwitching,\n  indexPulse,\n  onSwitch,\n}: HeroNavigationProps) {\n  return (\n    <div className=\"pointer-events-none relative z-20 w-full md:hidden\">\n      <div className=\"pointer-events-auto mx-auto w-full max-w-sm\">\n        <div className=\"flex items-center justify-between\">\n          <button\n            onClick={() => void onSwitch(-1)}\n            disabled={isSwitching}\n            aria-label=\"Previous Program\"\n            className={cn(\n              'group inline-flex min-h-[44px] items-center gap-2',\n              'touch-manipulation select-none',\n              'text-white/80 transition',\n              'active:scale-[0.98] active:text-white',\n              'disabled:opacity-40 disabled:active:scale-100'\n            )}\n          >\n            <ChevronLeft className=\"h-5 w-5 transition-transform group-active:-translate-x-0.5\" />\n            <span className=\"text-xs font-bold uppercase tracking-[0.18em]\">\n              Prev\n            </span>\n          </button>\n\n          <div className=\"flex min-h-[44px] items-center justify-center px-3\">\n            <span\n              key={indexPulse}\n              className={cn(\n                'font-headline text-3xl font-black tabular-nums',\n                'text-white/90',\n                'animate-[pulse_260ms_ease-out_1]'\n              )}\n            >\n              {(programIndex + 1).toString().padStart(2, '0')}\n            </span>\n          </div>\n\n          <button\n            onClick={() => void onSwitch(1)}\n            disabled={isSwitching}\n            aria-label=\"Next Program\"\n            className={cn(\n              'group inline-flex min-h-[44px] items-center gap-2',\n              'touch-manipulation select-none',\n              'text-white/80 transition',\n              'active:scale-[0.98] active:text-white',\n              'disabled:opacity-40 disabled:active:scale-100'\n            )}\n          >\n            <span className=\"text-xs font-bold uppercase tracking-[0.18em]\">\n              Next\n            </span>\n            <ChevronRight className=\"h-5 w-5 transition-transform group-active:translate-x-0.5\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n});\n\n/**\n * Hero Navigation Component\n * Single Responsibility: Program navigation UI\n * Composition Pattern: Combines desktop and mobile navigation\n */\nexport const HeroNavigation = memo(function HeroNavigation(\n  props: HeroNavigationProps\n) {\n  return (\n    <>\n      <DesktopNavigation {...props} />\n      <MobileNavigation {...props} />\n    </>\n  );\n});\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAJA;;;;;AAcA;;;CAGC,GACD,MAAM,kCAAoB,IAAA,4UAAI,EAAC,SAAS,kBAAkB,EACxD,YAAY,EACZ,WAAW,EACX,QAAQ,EACgC;IACxC,qBACE,6WAAC;QAAI,WAAU;;0BACb,6WAAC;gBAAI,WAAU;0BACb,cAAA,6WAAC;oBAAG,WAAU;8BACX,CAAC,eAAe,CAAC,EAAE,QAAQ,GAAG,QAAQ,CAAC,GAAG;;;;;;;;;;;0BAI/C,6WAAC;gBAAI,WAAU;;kCACb,6WAAC;wBACC,SAAS,IAAM,KAAK,SAAS,CAAC;wBAC9B,UAAU;wBACV,WAAW,IAAA,oIAAE,EAAC,eAAe;wBAC7B,cAAW;;0CAEX,6WAAC,iTAAS;gCAAC,WAAU;;;;;;0CACrB,6WAAC;gCAAK,WAAU;0CAA8B;;;;;;;;;;;;kCAGhD,6WAAC;wBAAI,WAAU;;;;;;kCAEf,6WAAC;wBACC,SAAS,IAAM,KAAK,SAAS;wBAC7B,UAAU;wBACV,WAAW,IAAA,oIAAE,EAAC,eAAe;wBAC7B,cAAW;;0CAEX,6WAAC;gCAAK,WAAU;0CAA8B;;;;;;0CAC9C,6WAAC,uTAAW;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKjC;AAEA;;;CAGC,GACD,MAAM,iCAAmB,IAAA,4UAAI,EAAC,SAAS,iBAAiB,EACtD,YAAY,EACZ,WAAW,EACX,UAAU,EACV,QAAQ,EACY;IACpB,qBACE,6WAAC;QAAI,WAAU;kBACb,cAAA,6WAAC;YAAI,WAAU;sBACb,cAAA,6WAAC;gBAAI,WAAU;;kCACb,6WAAC;wBACC,SAAS,IAAM,KAAK,SAAS,CAAC;wBAC9B,UAAU;wBACV,cAAW;wBACX,WAAW,IAAA,oIAAE,EACX,qDACA,kCACA,4BACA,yCACA;;0CAGF,6WAAC,uTAAW;gCAAC,WAAU;;;;;;0CACvB,6WAAC;gCAAK,WAAU;0CAAgD;;;;;;;;;;;;kCAKlE,6WAAC;wBAAI,WAAU;kCACb,cAAA,6WAAC;4BAEC,WAAW,IAAA,oIAAE,EACX,kDACA,iBACA;sCAGD,CAAC,eAAe,CAAC,EAAE,QAAQ,GAAG,QAAQ,CAAC,GAAG;2BAPtC;;;;;;;;;;kCAWT,6WAAC;wBACC,SAAS,IAAM,KAAK,SAAS;wBAC7B,UAAU;wBACV,cAAW;wBACX,WAAW,IAAA,oIAAE,EACX,qDACA,kCACA,4BACA,yCACA;;0CAGF,6WAAC;gCAAK,WAAU;0CAAgD;;;;;;0CAGhE,6WAAC,0TAAY;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMpC;AAOO,MAAM,+BAAiB,IAAA,4UAAI,EAAC,SAAS,eAC1C,KAA0B;IAE1B,qBACE;;0BACE,6WAAC;gBAAmB,GAAG,KAAK;;;;;;0BAC5B,6WAAC;gBAAkB,GAAG,KAAK;;;;;;;;AAGjC","debugId":null}},
    {"offset": {"line": 2463, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/components/hero-section/social-links.tsx"],"sourcesContent":["\"use client\";\n\nimport { memo } from 'react';\nimport { socialLinks } from '@/lib/data';\n\n/**\n * Social Links component - memoized for performance\n * Only re-renders when socialLinks array changes (rarely)\n */\nexport const SocialLinks = memo(function SocialLinks() {\n  return (\n    <>\n      {/* Mobile: Relative positioning in flow */}\n      <div className=\"relative z-20 flex items-center justify-center gap-4 md:hidden\">\n        {socialLinks.map(({ name, href, Icon }) => (\n          <a key={name} href={href} aria-label={`QIA on ${name}`}>\n            <Icon className=\"h-5 w-5 transition-colors hover:text-accent\" />\n          </a>\n        ))}\n      </div>\n      \n      {/* Desktop: Absolute positioning at bottom */}\n      <div className=\"absolute bottom-6 left-1/2 z-20 hidden -translate-x-1/2 items-center gap-6 md:flex sm:bottom-8\">\n        {socialLinks.map(({ name, href, Icon }) => (\n          <a key={name} href={href} aria-label={`QIA on ${name}`}>\n            <Icon className=\"h-6 w-6 transition-colors hover:text-accent\" />\n          </a>\n        ))}\n      </div>\n    </>\n  );\n});\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AASO,MAAM,4BAAc,IAAA,4UAAI,EAAC,SAAS;IACvC,qBACE;;0BAEE,6WAAC;gBAAI,WAAU;0BACZ,kKAAW,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,iBACpC,6WAAC;wBAAa,MAAM;wBAAM,cAAY,CAAC,OAAO,EAAE,MAAM;kCACpD,cAAA,6WAAC;4BAAK,WAAU;;;;;;uBADV;;;;;;;;;;0BAOZ,6WAAC;gBAAI,WAAU;0BACZ,kKAAW,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,iBACpC,6WAAC;wBAAa,MAAM;wBAAM,cAAY,CAAC,OAAO,EAAE,MAAM;kCACpD,cAAA,6WAAC;4BAAK,WAAU;;;;;;uBADV;;;;;;;;;;;;AAOlB","debugId":null}},
    {"offset": {"line": 2528, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielebaglioni/studio/apps/shell/src/components/hero-section.tsx"],"sourcesContent":["\"use client\";\n\n/**\n * HeroSection Component\n * \n * Clean Code Principles Applied:\n * - Single Responsibility: Orchestrates hero section UI\n * - Separation of Concerns: Business logic in hooks/services\n * - Dependency Inversion: Uses abstractions (hooks, services)\n * - Composition: Uses smaller components\n * \n * Design Patterns Applied:\n * - Strategy Pattern: Parallax effects via services\n * - Factory Pattern: Color/model retrieval\n * - Observer Pattern: Cache subscription\n */\n\nimport { useEffect, useMemo, useRef, useState, useSyncExternalStore } from 'react';\nimport Link from 'next/link';\nimport { programs, PROJECTS } from '@/lib/data';\nimport { sequenceCache } from '@/lib/sequence/sequenceCache';\nimport { useScrollSequence } from '@/hooks/useScrollSequence';\nimport { useHeroBoot } from '@/hooks/useHeroBoot.hook';\nimport { useCanvasRenderer } from '@/hooks/useCanvasRenderer.hook';\nimport { useProgramSwitch } from '@/hooks/useProgramSwitch.hook';\nimport { useHero } from '@/contexts/hero-context';\nimport { trackProgramSwitch } from '@/lib/analytics';\nimport { getHeroColors } from '@/domain/models/hero-colors.model';\nimport { PARALLAX_CONFIG } from '@/domain/constants/hero.constants';\nimport { getMobilePreloadWindow } from '@/services/sequence/sequence-initialization.service';\nimport { getDetailsHref, getSupportHref } from '@qia/utils/routes';\nimport { emitProjectChanged } from '@qia/utils/eventBus';\nimport { LoadingScreen } from './loading-screen';\nimport { HeroCanvas } from './hero-section/hero-canvas';\nimport { HeroContent } from './hero-section/hero-content';\nimport { HeroNavigation } from './hero-section/hero-navigation';\nimport { SocialLinks } from './hero-section/social-links';\nimport { Button } from '@qia/ui';\nimport { trackButtonClick } from '@/lib/analytics';\nimport { cn } from '@/lib/utils';\n\nexport function HeroSection() {\n  const { setActiveHero } = useHero();\n\n  // Boot/preload state management\n  const { bootReady, bootProgress } = useHeroBoot();\n\n  // Program state\n  const [programIndex, setProgramIndex] = useState(0);\n  const [indexPulse, setIndexPulse] = useState(0);\n\n  // DOM refs\n  const heroRef = useRef<HTMLDivElement | null>(null);\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n\n  // Cache subscription for redraws\n  const cacheVersion = useSyncExternalStore(\n    sequenceCache.subscribe,\n    sequenceCache.getVersion,\n    sequenceCache.getVersion\n  );\n\n  // Current program and parallax config\n  const program = programs[programIndex];\n  const project = PROJECTS[programIndex];\n  const projectId = project?.id || ('climate' as const);\n  const parallax = PARALLAX_CONFIG[programIndex % PARALLAX_CONFIG.length];\n\n  // Hero colors (memoized)\n  const heroColors = useMemo(\n    () => getHeroColors(program.name as 'CLIMATE' | 'FOOD' | 'SOCIAL'),\n    [program.name]\n  );\n\n  // Update active hero in context, track analytics, and emit event\n  useEffect(() => {\n    const previousProjectId = programIndex > 0 ? PROJECTS[programIndex - 1]?.id : undefined;\n    setActiveHero(program.name as 'CLIMATE' | 'FOOD' | 'SOCIAL');\n    trackProgramSwitch(program.name);\n    // Emit project changed event for cross-app communication (optional, URL is source of truth)\n    if (projectId) {\n      emitProjectChanged(projectId, previousProjectId);\n    }\n  }, [program.name, programIndex, projectId, setActiveHero]);\n\n  // Scroll sequence management\n  const easingMode = useMemo(() => parallax.easing, [parallax.easing]);\n  const {\n    currentFrame,\n    setFrameImmediate,\n    forceFrame0Lock,\n    unlockAfterSwitch,\n  } = useScrollSequence({\n    program,\n    heroRef,\n    easing: easingMode,\n  });\n\n  // Freeze draw ref for program switching\n  const freezeDrawRef = useRef(false);\n\n  // Canvas rendering\n  const { drawFrame, drawAuto } = useCanvasRenderer({\n    canvasRef,\n    programName: program.name,\n    currentFrame,\n    bootReady,\n    freezeDraw: freezeDrawRef.current,\n  });\n\n  // Program switching\n  const { isSwitching, switchProgram } = useProgramSwitch({\n    bootReady,\n    programIndex,\n    setProgramIndex,\n    forceFrame0Lock,\n    setFrameImmediate,\n    unlockAfterSwitch,\n    drawFrame,\n    setIndexPulse,\n    freezeDrawRef,\n  });\n\n  // Auto-draw on frame/cache changes\n  useEffect(() => {\n    drawAuto();\n  }, [drawAuto, cacheVersion]);\n\n  // Redraw on resize\n  useEffect(() => {\n    const handleResize = () => drawAuto();\n    window.addEventListener('resize', handleResize, { passive: true });\n    return () => window.removeEventListener('resize', handleResize);\n  }, [drawAuto]);\n\n  // Mobile preload window management\n  useEffect(() => {\n    if (!bootReady) return;\n    const { ahead, behind } = getMobilePreloadWindow(program.name);\n    sequenceCache.preloadAround(program.name, currentFrame, ahead, behind);\n  }, [bootReady, program.name, currentFrame]);\n\n  // Loading state\n  if (!bootReady) {\n    return <LoadingScreen progress={bootProgress} />;\n  }\n\n  return (\n    <div\n      ref={heroRef}\n      className=\"relative w-full parallax-container\"\n      style={{ height: `${parallax.scrollVh}vh` }}\n    >\n      <div className=\"sticky top-0 h-screen w-full overflow-hidden\">\n        <HeroCanvas canvasRef={canvasRef} />\n\n        {/* Responsive Layout: Mobile-first with Tailwind breakpoints (sm, md, lg, xl) */}\n        <div className=\"relative z-10 h-full w-full text-white\">\n          {/* Mobile & Tablet Layout (< md): Vertical stack - Header → Text → Canvas → Switcher + Buttons */}\n          {/* Using md:hidden to hide on desktop (>= 768px) */}\n          <div className=\"flex h-full flex-col gap-4 overflow-hidden md:hidden sm:gap-6\">\n            {/* Section 1: Project Title and Description */}\n            {/* Header is fixed (h-20 = 80px), using pt-20 to account for header overlay */}\n            {/* Responsive padding: more space on tablet (600px-959px) to prevent text overlap with canvas frames */}\n            {/* pb-6 on mobile, pb-8 on sm (640px+), pb-12 on md (768px+) to ensure no overlap */}\n            <section className=\"flex-shrink-0 pt-20 pb-6 px-4 sm:px-6 sm:pb-8 md:pb-12\">\n              <div\n                className={cn(\n                  'space-y-2 transition-opacity duration-200',\n                  isSwitching ? 'opacity-0' : 'opacity-100'\n                )}\n              >\n                <h1 className=\"font-headline text-3xl font-black uppercase tracking-tighter leading-tight sm:text-4xl\">\n                  {program.name}\n                </h1>\n                <p className=\"font-body text-xs font-light tracking-widest sm:text-sm\">\n                  {program.subtitle}\n                </p>\n                <p className=\"font-body text-xs leading-relaxed sm:text-sm\">\n                  {program.description}\n                </p>\n              </div>\n            </section>\n\n            {/* Section 2: Canvas Area - matches frame dimensions exactly */}\n            {/* Canvas is absolute positioned, this spacer defines the exact frame area for inspection */}\n            {/* mt-auto ensures proper spacing from text above on mobile/tablet */}\n            <section className=\"flex-1 min-h-0 w-full\" aria-label=\"Canvas frame area\" />\n\n            {/* Section 3: Navigation Switcher, Action Buttons, and Social Links */}\n            <section className=\"flex-shrink-0 px-4 pb-4 space-y-3 sm:px-6 sm:pb-6\">\n              {/* Navigation Switcher */}\n              <div\n                className={cn(\n                  'transition-opacity duration-200',\n                  isSwitching ? 'opacity-0' : 'opacity-100'\n                )}\n              >\n                <HeroNavigation\n                  programIndex={programIndex}\n                  isSwitching={isSwitching}\n                  indexPulse={indexPulse}\n                  onSwitch={switchProgram}\n                />\n              </div>\n\n              {/* Action Buttons */}\n              <div\n                className={cn(\n                  'flex flex-col gap-2 transition-opacity duration-200 sm:gap-3',\n                  isSwitching ? 'opacity-0' : 'opacity-100'\n                )}\n              >\n                <Button\n                  asChild\n                  size=\"default\"\n                  variant=\"outline\"\n                  className=\"rounded-full border-2 bg-transparent/10 backdrop-blur-sm text-white transition-all text-xs py-1.5 h-auto sm:text-sm sm:py-2\"\n                  style={{\n                    borderColor: `${heroColors.primary}80`,\n                    color: 'white',\n                  }}\n                  onClick={() => trackButtonClick(program.ctas.secondary, 'hero')}\n                >\n                  <Link href={getDetailsHref(projectId)}>\n                    {program.ctas.secondary}\n                  </Link>\n                </Button>\n\n                <Button\n                  asChild\n                  size=\"default\"\n                  className=\"rounded-full text-white transition-all text-xs py-1.5 h-auto sm:text-sm sm:py-2\"\n                  style={{\n                    backgroundColor: heroColors.accent,\n                    color: '#022D2B',\n                    boxShadow: `0 10px 15px -3px ${heroColors.accent}40`,\n                  }}\n                  onClick={() => trackButtonClick(program.ctas.primary, 'hero')}\n                >\n                  <Link href={getSupportHref(projectId)}>\n                    {program.ctas.primary}\n                  </Link>\n                </Button>\n              </div>\n\n              {/* Social Links - Mobile/Tablet: in flow */}\n              <div\n                className={cn(\n                  'transition-opacity duration-200',\n                  isSwitching ? 'opacity-0' : 'opacity-100'\n                )}\n              >\n                <SocialLinks />\n              </div>\n            </section>\n          </div>\n\n          {/* Desktop Layout (>= md): Horizontal layout - UNCHANGED from original */}\n          {/* Using hidden md:flex to show only on desktop (>= 768px) */}\n          <div className=\"container relative z-10 mx-auto hidden h-full items-center px-4 md:flex md:px-6\">\n            <HeroContent\n              program={program}\n              projectId={projectId}\n              heroColors={heroColors}\n              isSwitching={isSwitching}\n            />\n\n            <HeroNavigation\n              programIndex={programIndex}\n              isSwitching={isSwitching}\n              indexPulse={indexPulse}\n              onSwitch={switchProgram}\n            />\n\n            {/* Social Links - Desktop: absolute positioned at bottom */}\n            <SocialLinks />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}